{"ast":null,"code":"import _objectSpread from\"/Users/muhammadfizantariq/Downloads/Knext_2/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useApp}from'../context/AppContext';import{isAuthenticated}from'../services/authService';import OfficeHeader from'../components/OfficeHeader';import CoachingIQDrawer from'../components/CoachingIQDrawer';import ModulePanels from'../components/ModulePanels';import CoachKAssistant from'../components/CoachKAssistant';import'./OfficePage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OfficePage=()=>{const navigate=useNavigate();const{coachProfile,coachingBias,setCoachKState}=useApp();const[showDrawer,setShowDrawer]=useState(false);const[fadeIn,setFadeIn]=useState(false);useEffect(()=>{// Strict check: must have valid authentication token\nif(!isAuthenticated()||!coachProfile){navigate('/login');return;}setTimeout(()=>setFadeIn(true),100);// Auto-open Coach K on first visit\nsetTimeout(()=>{setCoachKState(prev=>_objectSpread(_objectSpread({},prev),{},{isOpen:true,isMinimized:false,currentStage:prev.currentStage==='welcome'?'stage1':prev.currentStage}));},500);// Listen for Coaching IQ drawer open event\nconst handleOpenDrawer=()=>{setShowDrawer(true);};window.addEventListener('openCoachingIQDrawer',handleOpenDrawer);return()=>{window.removeEventListener('openCoachingIQDrawer',handleOpenDrawer);};},[coachProfile,coachingBias,navigate,setCoachKState]);if(!coachProfile){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"office-page \".concat(fadeIn?'fade-in':''),children:[/*#__PURE__*/_jsx(OfficeHeader,{onOpenDrawer:()=>setShowDrawer(true)}),/*#__PURE__*/_jsxs(\"div\",{className:\"office-content\",children:[/*#__PURE__*/_jsx(ModulePanels,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"office-footer\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Powered by KaNeXT IQ\\u2122\"}),/*#__PURE__*/_jsx(\"span\",{className:\"divider\",children:\"\\xB7\"}),/*#__PURE__*/_jsx(\"span\",{className:\"coach-k-status\",children:\"Assistant: Coach K\\u2122 Active\"})]})]}),/*#__PURE__*/_jsx(CoachingIQDrawer,{isOpen:showDrawer,onClose:()=>setShowDrawer(false)}),/*#__PURE__*/_jsx(CoachKAssistant,{})]});};export default OfficePage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useApp","isAuthenticated","OfficeHeader","CoachingIQDrawer","ModulePanels","CoachKAssistant","jsx","_jsx","jsxs","_jsxs","OfficePage","navigate","coachProfile","coachingBias","setCoachKState","showDrawer","setShowDrawer","fadeIn","setFadeIn","setTimeout","prev","_objectSpread","isOpen","isMinimized","currentStage","handleOpenDrawer","window","addEventListener","removeEventListener","className","concat","children","onOpenDrawer","onClose"],"sources":["/Users/muhammadfizantariq/Downloads/Knext_2/frontend/src/pages/OfficePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useApp } from '../context/AppContext';\nimport { isAuthenticated } from '../services/authService';\nimport OfficeHeader from '../components/OfficeHeader';\nimport CoachingIQDrawer from '../components/CoachingIQDrawer';\nimport ModulePanels from '../components/ModulePanels';\nimport CoachKAssistant from '../components/CoachKAssistant';\nimport './OfficePage.css';\n\nconst OfficePage = () => {\n  const navigate = useNavigate();\n  const { coachProfile, coachingBias, setCoachKState } = useApp();\n  const [showDrawer, setShowDrawer] = useState(false);\n  const [fadeIn, setFadeIn] = useState(false);\n\n  useEffect(() => {\n    // Strict check: must have valid authentication token\n    if (!isAuthenticated() || !coachProfile) {\n      navigate('/login');\n      return;\n    }\n\n    setTimeout(() => setFadeIn(true), 100);\n\n    // Auto-open Coach K on first visit\n    setTimeout(() => {\n      setCoachKState(prev => ({ \n        ...prev, \n        isOpen: true, \n        isMinimized: false,\n        currentStage: prev.currentStage === 'welcome' ? 'stage1' : prev.currentStage\n      }));\n    }, 500);\n\n    // Listen for Coaching IQ drawer open event\n    const handleOpenDrawer = () => {\n      setShowDrawer(true);\n    };\n\n    window.addEventListener('openCoachingIQDrawer', handleOpenDrawer);\n\n    return () => {\n      window.removeEventListener('openCoachingIQDrawer', handleOpenDrawer);\n    };\n  }, [coachProfile, coachingBias, navigate, setCoachKState]);\n\n  if (!coachProfile) {\n    return null;\n  }\n\n  return (\n    <div className={`office-page ${fadeIn ? 'fade-in' : ''}`}>\n      <OfficeHeader onOpenDrawer={() => setShowDrawer(true)} />\n      \n      <div className=\"office-content\">\n        <ModulePanels />\n        \n        <div className=\"office-footer\">\n          <span>Powered by KaNeXT IQ™</span>\n          <span className=\"divider\">·</span>\n          <span className=\"coach-k-status\">Assistant: Coach K™ Active</span>\n        </div>\n      </div>\n\n      <CoachingIQDrawer \n        isOpen={showDrawer} \n        onClose={() => setShowDrawer(false)} \n      />\n\n      <CoachKAssistant />\n    </div>\n  );\n};\n\nexport default OfficePage;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}