{"ast":null,"code":"import _objectSpread from\"/Users/muhammadfizantariq/Downloads/Knext_2/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{useNavigate}from'react-router-dom';import{useApp}from'../context/AppContext';import'./CoachKAssistant.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CoachKAssistant=()=>{const navigate=useNavigate();const{coachKState,setCoachKState,coachingBias,coachProfile}=useApp();const[inputText,setInputText]=useState('');const[currentMessageIndex,setCurrentMessageIndex]=useState(0);const[isTyping,setIsTyping]=useState(false);const messagesEndRef=useRef(null);const chatRef=useRef(null);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};useEffect(()=>{scrollToBottom();},[coachKState.messages,currentMessageIndex]);// Auto-open and start onboarding on first visit\nuseEffect(()=>{if(coachKState.isOpen&&coachKState.currentStage==='stage1'&&currentMessageIndex===0){startStage1();}},[coachKState.isOpen,coachKState.currentStage]);// Monitor coachingBias changes to advance stages\nuseEffect(()=>{if(coachingBias&&coachKState.currentStage==='stage2'){// Coaching IQ setup completed, move to Stage 3\nsetTimeout(()=>{startStage3();},1500);}},[coachingBias]);const startStage1=()=>{const stage1Messages=[{id:'K_STAGE1_1',speaker:'Coach K',message:'Welcome, Coach. This is your KaNeXT IQâ„¢ Office â€” your command center for Basketball IQâ„¢.',type:'info',action:'glow-header'},{id:'K_STAGE1_2',speaker:'Coach K',message:'Everything you control â€” systems, players, recruiting, and simulations â€” starts here.',type:'info',action:'pulse-grid'},{id:'K_STAGE1_3',speaker:'Coach K',message:\"Let's make sure your coaching philosophy is set before we start evaluating.\",type:'info',action:'next-stage'}];setCoachKState(prev=>_objectSpread(_objectSpread({},prev),{},{messages:stage1Messages,currentStage:'stage1'}));setCurrentMessageIndex(0);showNextMessage(stage1Messages,0);};const startStage2=()=>{if(coachingBias){// Skip Stage 2 if coaching bias already exists\nstartStage3();return;}const stage2Messages=[{id:'K_STAGE2_1',speaker:'Coach K',message:'Every coach sees the game differently. Coaching IQâ„¢ lets you define how you value players.',type:'info',action:'pulse-brain'},{id:'K_STAGE2_2',speaker:'Coach K',message:'Click the ðŸ§  icon to open your drawer and set your offensive and defensive systems.',type:'info',action:'tooltip-brain'},{id:'K_STAGE2_3',speaker:'Coach K',message:\"Adjust positional and trait weights until they match your philosophy. I'll wait right here.\",type:'info',action:'wait-for-apply'}];setCoachKState(prev=>_objectSpread(_objectSpread({},prev),{},{messages:stage2Messages,currentStage:'stage2'}));setCurrentMessageIndex(0);showNextMessage(stage2Messages,0);};const startStage3=()=>{const stage3Messages=[{id:'K_STAGE3_1',speaker:'Coach K',message:coachingBias?'Excellent. Your Coaching IQâ„¢ profile is locked in â€” this defines how every player will be interpreted.':'Player IQâ„¢ is where your data foundation begins. We\\'ll grade each player through your system lens.',type:coachingBias?'success':'info',action:coachingBias?'glow-context':'highlight-player-iq'},{id:'K_STAGE3_2',speaker:'Coach K',message:'Once players are evaluated, I\\'ll open up Recruiting IQâ„¢ and Team IQâ„¢ next.',type:'info',action:'grey-out-modules'},{id:'K_STAGE3_3',speaker:'Coach K',message:'Ready to start scouting?',type:'info',action:'show-buttons'}];setCoachKState(prev=>_objectSpread(_objectSpread({},prev),{},{messages:stage3Messages,currentStage:'stage3'}));setCurrentMessageIndex(0);showNextMessage(stage3Messages,0);};const showNextMessage=(messages,index)=>{if(index>=messages.length){var _messages$;// Stage complete, check if we need to advance\nif(((_messages$=messages[0])===null||_messages$===void 0?void 0:_messages$.id)==='K_STAGE1_3'){setTimeout(()=>startStage2(),500);}return;}setIsTyping(true);setTimeout(()=>{setIsTyping(false);setCurrentMessageIndex(index);// Handle message actions\nconst message=messages[index];if(message.action==='next-stage'&&index===messages.length-1){setTimeout(()=>startStage2(),1500);}// Auto-advance to next message after 1.5s or wait for user click\nif(index<messages.length-1){setTimeout(()=>{showNextMessage(messages,index+1);},1500);}},300);};const handleMessageClick=()=>{const currentStageMessages=coachKState.messages;if(currentMessageIndex<currentStageMessages.length-1){showNextMessage(currentStageMessages,currentMessageIndex+1);}else{// Last message clicked, advance stage if needed\nif(coachKState.currentStage==='stage1'){startStage2();}else if(coachKState.currentStage==='stage2'&&coachingBias){startStage3();}}};const handleMinimize=()=>{setCoachKState(prev=>_objectSpread(_objectSpread({},prev),{},{isOpen:false,isMinimized:true}));};const handleToggle=()=>{setCoachKState(prev=>_objectSpread(_objectSpread({},prev),{},{isOpen:!prev.isOpen,isMinimized:false}));};const handleQuickAction=action=>{if(action==='Go to Player IQâ„¢'){setCoachKState(prev=>_objectSpread(_objectSpread({},prev),{},{messages:[...prev.messages,{id:'K_STAGE3_4',speaker:'Coach K',message:\"Let's build your foundation.\",type:'info'}]}));setTimeout(()=>{handleMinimize();navigate('/player-iq');},1000);}else if(action==='Review Coaching IQâ„¢'){const event=new CustomEvent('openCoachingIQDrawer');window.dispatchEvent(event);}};const handleSendMessage=()=>{if(!inputText.trim())return;const userMessage={id:\"user_\".concat(Date.now()),speaker:'Coach',message:inputText,type:'user'};setCoachKState(prev=>_objectSpread(_objectSpread({},prev),{},{messages:[...prev.messages,userMessage]}));setInputText('');// Simple response\nsetTimeout(()=>{const responseMessage={id:\"coach_k_\".concat(Date.now()),speaker:'Coach K',message:'I understand. Let me help you with that.',type:'info'};setCoachKState(prev=>_objectSpread(_objectSpread({},prev),{},{messages:[...prev.messages,responseMessage]}));},500);};const handleSkipIntro=()=>{if(coachingBias){startStage3();}else{startStage2();}};// Handle ESC key\nuseEffect(()=>{const handleEsc=e=>{if(e.key==='Escape'&&coachKState.isOpen){handleMinimize();}};window.addEventListener('keydown',handleEsc);return()=>window.removeEventListener('keydown',handleEsc);},[coachKState.isOpen]);// Minimized bubble state\nif(coachKState.isMinimized&&!coachKState.isOpen){return/*#__PURE__*/_jsx(\"div\",{className:\"coach-k-bubble\",onClick:handleToggle,title:\"Chat with Coach K\\u2122\",children:\"\\uD83E\\uDD16\"});}// Expanded panel state\nif(!coachKState.isOpen){return null;}const displayedMessages=coachKState.messages.slice(0,currentMessageIndex+1);const isStage3Complete=coachKState.currentStage==='stage3'&&currentMessageIndex>=coachKState.messages.length-1;return/*#__PURE__*/_jsxs(\"div\",{className:\"coach-k-assistant\",ref:chatRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"coach-k-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"coach-k-icon\",children:\"\\uD83E\\uDD16\"}),/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:\"Coach K\\u2122\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"minimize-btn\",onClick:handleMinimize,title:\"Minimize\",children:\"\\u2212\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:handleMinimize,title:\"Close\",children:\"\\xD7\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"coach-k-chat\",children:[displayedMessages.map((msg,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"chat-message \".concat(msg.type),onClick:index===displayedMessages.length-1?handleMessageClick:undefined,style:{cursor:index===displayedMessages.length-1?'pointer':'default'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-speaker\",children:msg.speaker}),/*#__PURE__*/_jsx(\"div\",{className:\"message-content\",children:msg.message})]},msg.id||index)),isTyping&&/*#__PURE__*/_jsxs(\"div\",{className:\"typing-indicator\",children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),isStage3Complete&&/*#__PURE__*/_jsxs(\"div\",{className:\"coach-k-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn\",onClick:()=>handleQuickAction('Go to Player IQâ„¢'),children:\"Go to Player IQ\\u2122\"}),!coachingBias&&/*#__PURE__*/_jsx(\"button\",{className:\"action-btn secondary\",onClick:()=>handleQuickAction('Review Coaching IQâ„¢'),children:\"Review Coaching IQ\\u2122\"})]}),coachKState.currentStage==='stage1'&&currentMessageIndex>0&&/*#__PURE__*/_jsx(\"div\",{className:\"coach-k-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"action-btn secondary\",onClick:handleSkipIntro,children:\"Skip Intro\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"coach-k-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputText,onChange:e=>setInputText(e.target.value),onKeyPress:e=>e.key==='Enter'&&handleSendMessage(),placeholder:\"Ask Coach K anything...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessage,children:\"Send\"})]})]});};export default CoachKAssistant;","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","useApp","jsx","_jsx","jsxs","_jsxs","CoachKAssistant","navigate","coachKState","setCoachKState","coachingBias","coachProfile","inputText","setInputText","currentMessageIndex","setCurrentMessageIndex","isTyping","setIsTyping","messagesEndRef","chatRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","messages","isOpen","currentStage","startStage1","setTimeout","startStage3","stage1Messages","id","speaker","message","type","action","prev","_objectSpread","showNextMessage","startStage2","stage2Messages","stage3Messages","index","length","_messages$","handleMessageClick","currentStageMessages","handleMinimize","isMinimized","handleToggle","handleQuickAction","event","CustomEvent","window","dispatchEvent","handleSendMessage","trim","userMessage","concat","Date","now","responseMessage","handleSkipIntro","handleEsc","e","key","addEventListener","removeEventListener","className","onClick","title","children","displayedMessages","slice","isStage3Complete","ref","map","msg","undefined","style","cursor","value","onChange","target","onKeyPress","placeholder"],"sources":["/Users/muhammadfizantariq/Downloads/Knext_2/frontend/src/components/CoachKAssistant.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useApp } from '../context/AppContext';\nimport './CoachKAssistant.css';\n\nconst CoachKAssistant = () => {\n  const navigate = useNavigate();\n  const { coachKState, setCoachKState, coachingBias, coachProfile } = useApp();\n  const [inputText, setInputText] = useState('');\n  const [currentMessageIndex, setCurrentMessageIndex] = useState(0);\n  const [isTyping, setIsTyping] = useState(false);\n  const messagesEndRef = useRef(null);\n  const chatRef = useRef(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [coachKState.messages, currentMessageIndex]);\n\n  // Auto-open and start onboarding on first visit\n  useEffect(() => {\n    if (coachKState.isOpen && coachKState.currentStage === 'stage1' && currentMessageIndex === 0) {\n      startStage1();\n    }\n  }, [coachKState.isOpen, coachKState.currentStage]);\n\n  // Monitor coachingBias changes to advance stages\n  useEffect(() => {\n    if (coachingBias && coachKState.currentStage === 'stage2') {\n      // Coaching IQ setup completed, move to Stage 3\n      setTimeout(() => {\n        startStage3();\n      }, 1500);\n    }\n  }, [coachingBias]);\n\n  const startStage1 = () => {\n    const stage1Messages = [\n      {\n        id: 'K_STAGE1_1',\n        speaker: 'Coach K',\n        message: 'Welcome, Coach. This is your KaNeXT IQâ„¢ Office â€” your command center for Basketball IQâ„¢.',\n        type: 'info',\n        action: 'glow-header'\n      },\n      {\n        id: 'K_STAGE1_2',\n        speaker: 'Coach K',\n        message: 'Everything you control â€” systems, players, recruiting, and simulations â€” starts here.',\n        type: 'info',\n        action: 'pulse-grid'\n      },\n      {\n        id: 'K_STAGE1_3',\n        speaker: 'Coach K',\n        message: \"Let's make sure your coaching philosophy is set before we start evaluating.\",\n        type: 'info',\n        action: 'next-stage'\n      }\n    ];\n\n    setCoachKState(prev => ({\n      ...prev,\n      messages: stage1Messages,\n      currentStage: 'stage1'\n    }));\n    setCurrentMessageIndex(0);\n    showNextMessage(stage1Messages, 0);\n  };\n\n  const startStage2 = () => {\n    if (coachingBias) {\n      // Skip Stage 2 if coaching bias already exists\n      startStage3();\n      return;\n    }\n\n    const stage2Messages = [\n      {\n        id: 'K_STAGE2_1',\n        speaker: 'Coach K',\n        message: 'Every coach sees the game differently. Coaching IQâ„¢ lets you define how you value players.',\n        type: 'info',\n        action: 'pulse-brain'\n      },\n      {\n        id: 'K_STAGE2_2',\n        speaker: 'Coach K',\n        message: 'Click the ðŸ§  icon to open your drawer and set your offensive and defensive systems.',\n        type: 'info',\n        action: 'tooltip-brain'\n      },\n      {\n        id: 'K_STAGE2_3',\n        speaker: 'Coach K',\n        message: \"Adjust positional and trait weights until they match your philosophy. I'll wait right here.\",\n        type: 'info',\n        action: 'wait-for-apply'\n      }\n    ];\n\n    setCoachKState(prev => ({\n      ...prev,\n      messages: stage2Messages,\n      currentStage: 'stage2'\n    }));\n    setCurrentMessageIndex(0);\n    showNextMessage(stage2Messages, 0);\n  };\n\n  const startStage3 = () => {\n    const stage3Messages = [\n      {\n        id: 'K_STAGE3_1',\n        speaker: 'Coach K',\n        message: coachingBias \n          ? 'Excellent. Your Coaching IQâ„¢ profile is locked in â€” this defines how every player will be interpreted.'\n          : 'Player IQâ„¢ is where your data foundation begins. We\\'ll grade each player through your system lens.',\n        type: coachingBias ? 'success' : 'info',\n        action: coachingBias ? 'glow-context' : 'highlight-player-iq'\n      },\n      {\n        id: 'K_STAGE3_2',\n        speaker: 'Coach K',\n        message: 'Once players are evaluated, I\\'ll open up Recruiting IQâ„¢ and Team IQâ„¢ next.',\n        type: 'info',\n        action: 'grey-out-modules'\n      },\n      {\n        id: 'K_STAGE3_3',\n        speaker: 'Coach K',\n        message: 'Ready to start scouting?',\n        type: 'info',\n        action: 'show-buttons'\n      }\n    ];\n\n    setCoachKState(prev => ({\n      ...prev,\n      messages: stage3Messages,\n      currentStage: 'stage3'\n    }));\n    setCurrentMessageIndex(0);\n    showNextMessage(stage3Messages, 0);\n  };\n\n  const showNextMessage = (messages, index) => {\n    if (index >= messages.length) {\n      // Stage complete, check if we need to advance\n      if (messages[0]?.id === 'K_STAGE1_3') {\n        setTimeout(() => startStage2(), 500);\n      }\n      return;\n    }\n\n    setIsTyping(true);\n    setTimeout(() => {\n      setIsTyping(false);\n      setCurrentMessageIndex(index);\n      \n      // Handle message actions\n      const message = messages[index];\n      if (message.action === 'next-stage' && index === messages.length - 1) {\n        setTimeout(() => startStage2(), 1500);\n      }\n\n      // Auto-advance to next message after 1.5s or wait for user click\n      if (index < messages.length - 1) {\n        setTimeout(() => {\n          showNextMessage(messages, index + 1);\n        }, 1500);\n      }\n    }, 300);\n  };\n\n  const handleMessageClick = () => {\n    const currentStageMessages = coachKState.messages;\n    if (currentMessageIndex < currentStageMessages.length - 1) {\n      showNextMessage(currentStageMessages, currentMessageIndex + 1);\n    } else {\n      // Last message clicked, advance stage if needed\n      if (coachKState.currentStage === 'stage1') {\n        startStage2();\n      } else if (coachKState.currentStage === 'stage2' && coachingBias) {\n        startStage3();\n      }\n    }\n  };\n\n  const handleMinimize = () => {\n    setCoachKState(prev => ({ \n      ...prev, \n      isOpen: false,\n      isMinimized: true \n    }));\n  };\n\n  const handleToggle = () => {\n    setCoachKState(prev => ({\n      ...prev,\n      isOpen: !prev.isOpen,\n      isMinimized: false\n    }));\n  };\n\n  const handleQuickAction = (action) => {\n    if (action === 'Go to Player IQâ„¢') {\n      setCoachKState(prev => ({\n        ...prev,\n        messages: [...prev.messages, {\n          id: 'K_STAGE3_4',\n          speaker: 'Coach K',\n          message: \"Let's build your foundation.\",\n          type: 'info'\n        }]\n      }));\n      setTimeout(() => {\n        handleMinimize();\n        navigate('/player-iq');\n      }, 1000);\n    } else if (action === 'Review Coaching IQâ„¢') {\n      const event = new CustomEvent('openCoachingIQDrawer');\n      window.dispatchEvent(event);\n    }\n  };\n\n  const handleSendMessage = () => {\n    if (!inputText.trim()) return;\n\n    const userMessage = {\n      id: `user_${Date.now()}`,\n      speaker: 'Coach',\n      message: inputText,\n      type: 'user'\n    };\n\n    setCoachKState(prev => ({\n      ...prev,\n      messages: [...prev.messages, userMessage]\n    }));\n\n    setInputText('');\n    \n    // Simple response\n    setTimeout(() => {\n      const responseMessage = {\n        id: `coach_k_${Date.now()}`,\n        speaker: 'Coach K',\n        message: 'I understand. Let me help you with that.',\n        type: 'info'\n      };\n      setCoachKState(prev => ({\n        ...prev,\n        messages: [...prev.messages, responseMessage]\n      }));\n    }, 500);\n  };\n\n  const handleSkipIntro = () => {\n    if (coachingBias) {\n      startStage3();\n    } else {\n      startStage2();\n    }\n  };\n\n  // Handle ESC key\n  useEffect(() => {\n    const handleEsc = (e) => {\n      if (e.key === 'Escape' && coachKState.isOpen) {\n        handleMinimize();\n      }\n    };\n    window.addEventListener('keydown', handleEsc);\n    return () => window.removeEventListener('keydown', handleEsc);\n  }, [coachKState.isOpen]);\n\n  // Minimized bubble state\n  if (coachKState.isMinimized && !coachKState.isOpen) {\n    return (\n      <div \n        className=\"coach-k-bubble\" \n        onClick={handleToggle} \n        title=\"Chat with Coach Kâ„¢\"\n      >\n        ðŸ¤–\n      </div>\n    );\n  }\n\n  // Expanded panel state\n  if (!coachKState.isOpen) {\n    return null;\n  }\n\n  const displayedMessages = coachKState.messages.slice(0, currentMessageIndex + 1);\n  const isStage3Complete = coachKState.currentStage === 'stage3' && currentMessageIndex >= coachKState.messages.length - 1;\n\n  return (\n    <div className=\"coach-k-assistant\" ref={chatRef}>\n      <div className=\"coach-k-header\">\n        <div className=\"header-title\">\n          <span className=\"coach-k-icon\">ðŸ¤–</span>\n          <span className=\"name\">Coach Kâ„¢</span>\n        </div>\n        <div className=\"header-actions\">\n          <button className=\"minimize-btn\" onClick={handleMinimize} title=\"Minimize\">âˆ’</button>\n          <button className=\"close-btn\" onClick={handleMinimize} title=\"Close\">&times;</button>\n        </div>\n      </div>\n\n      <div className=\"coach-k-chat\">\n        {displayedMessages.map((msg, index) => (\n          <div \n            key={msg.id || index} \n            className={`chat-message ${msg.type}`}\n            onClick={index === displayedMessages.length - 1 ? handleMessageClick : undefined}\n            style={{ cursor: index === displayedMessages.length - 1 ? 'pointer' : 'default' }}\n          >\n            <div className=\"message-speaker\">{msg.speaker}</div>\n            <div className=\"message-content\">{msg.message}</div>\n          </div>\n        ))}\n        {isTyping && (\n          <div className=\"typing-indicator\">\n            <span></span>\n            <span></span>\n            <span></span>\n          </div>\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      {isStage3Complete && (\n        <div className=\"coach-k-actions\">\n          <button \n            className=\"action-btn\" \n            onClick={() => handleQuickAction('Go to Player IQâ„¢')}\n          >\n            Go to Player IQâ„¢\n          </button>\n          {!coachingBias && (\n            <button \n              className=\"action-btn secondary\" \n              onClick={() => handleQuickAction('Review Coaching IQâ„¢')}\n            >\n              Review Coaching IQâ„¢\n            </button>\n          )}\n        </div>\n      )}\n\n      {coachKState.currentStage === 'stage1' && currentMessageIndex > 0 && (\n        <div className=\"coach-k-actions\">\n          <button className=\"action-btn secondary\" onClick={handleSkipIntro}>\n            Skip Intro\n          </button>\n        </div>\n      )}\n\n      <div className=\"coach-k-input\">\n        <input\n          type=\"text\"\n          value={inputText}\n          onChange={(e) => setInputText(e.target.value)}\n          onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n          placeholder=\"Ask Coach K anything...\"\n        />\n        <button onClick={handleSendMessage}>Send</button>\n      </div>\n    </div>\n  );\n};\n\nexport default CoachKAssistant;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}