{"ast":null,"code":"/**\n * Authentication Service\n * Handles JWT token management and authentication API calls\n */\n\n// Use relative URL in production (Docker), absolute in development\nconst API_BASE_URL = process.env.REACT_APP_API_URL || (process.env.NODE_ENV === 'production' ? '/api' : 'http://localhost:3001/api');\n\n// Always use real API - no mock fallback\nconst USE_REAL_API = true;\n\n// Note: Token generation is now handled by the backend API\n// This function is kept for reference but not used\n\n/**\n * Decode JWT token\n * For real JWT tokens from backend, this just extracts the payload\n * Backend verifies the signature\n */\nconst decodeToken = token => {\n  try {\n    const parts = token.split('.');\n    if (parts.length !== 3) return null;\n    const payload = JSON.parse(atob(parts[1]));\n\n    // If token has userId (from backend), map it to user structure\n    if (payload.userId) {\n      return {\n        user: {\n          id: payload.userId,\n          email: payload.email,\n          fullName: payload.fullName,\n          teamName: payload.teamName,\n          division: payload.division,\n          offensiveSystem: payload.offensiveSystem,\n          defensiveSystem: payload.defensiveSystem\n        },\n        exp: payload.exp,\n        iat: payload.iat\n      };\n    }\n    return payload;\n  } catch (error) {\n    return null;\n  }\n};\n\n/**\n * Check if token is expired\n */\nconst isTokenExpired = token => {\n  if (!token) return true;\n  const payload = decodeToken(token);\n  if (!payload) return true;\n\n  // Check expiration (exp is in seconds, Date.now() is in milliseconds)\n  if (payload.exp) {\n    return Date.now() >= payload.exp * 1000;\n  }\n\n  // If no exp field, assume expired (invalid token)\n  return true;\n};\n\n/**\n * Store token in localStorage\n */\nexport const setToken = token => {\n  localStorage.setItem('authToken', token);\n};\n\n/**\n * Get token from localStorage\n */\nexport const getToken = () => {\n  return localStorage.getItem('authToken');\n};\n\n/**\n * Remove token from localStorage\n */\nexport const removeToken = () => {\n  localStorage.removeItem('authToken');\n};\n\n/**\n * Get current user from token\n */\nexport const getCurrentUser = () => {\n  const token = getToken();\n  if (!token) return null;\n  if (isTokenExpired(token)) {\n    removeToken();\n    return null;\n  }\n  const payload = decodeToken(token);\n  if (!payload) return null;\n\n  // Handle both mock and real JWT token structures\n  return payload.user || {\n    id: payload.userId,\n    email: payload.email,\n    fullName: payload.fullName,\n    teamName: payload.teamName,\n    division: payload.division,\n    offensiveSystem: payload.offensiveSystem,\n    defensiveSystem: payload.defensiveSystem\n  };\n};\n\n/**\n * Check if user is authenticated\n * Strict check: token must exist, be valid, and not expired\n */\nexport const isAuthenticated = () => {\n  const token = getToken();\n  if (!token) {\n    // No token - clear any stale profile data\n    localStorage.removeItem('coachProfile');\n    return false;\n  }\n\n  // Check if token is expired\n  if (isTokenExpired(token)) {\n    // Token expired - clear everything\n    removeToken();\n    localStorage.removeItem('coachProfile');\n    return false;\n  }\n\n  // Verify token has valid user data\n  const user = getCurrentUser();\n  if (!user) {\n    // Token exists but user data is invalid - clear everything\n    removeToken();\n    localStorage.removeItem('coachProfile');\n    return false;\n  }\n  return true;\n};\n\n/**\n * Login user\n * @param {string} email \n * @param {string} password \n * @returns {Promise<{success: boolean, token?: string, user?: object, error?: string}>}\n */\nexport const login = async (email, password) => {\n  try {\n    // Real API call only - no mock fallback\n    const response = await fetch(`${API_BASE_URL}/auth/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n\n    // Handle network errors\n    if (!response.ok && response.status === 0) {\n      throw new Error('Cannot connect to backend server. Please ensure the backend is running on port 3001.');\n    }\n    const data = await response.json();\n    if (data.success && data.token) {\n      setToken(data.token);\n      return {\n        success: true,\n        token: data.token,\n        user: {\n          id: data.user.id,\n          email: data.user.email,\n          fullName: data.user.fullName,\n          teamName: data.user.teamName,\n          division: data.user.division,\n          offensiveSystem: data.user.offensiveSystem,\n          defensiveSystem: data.user.defensiveSystem\n        }\n      };\n    } else {\n      return {\n        success: false,\n        error: data.error || 'Login failed. Please try again.'\n      };\n    }\n  } catch (error) {\n    // Check if it's a network error\n    if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError')) {\n      return {\n        success: false,\n        error: 'Cannot connect to backend server. Please ensure the backend is running on port 3001.'\n      };\n    }\n    return {\n      success: false,\n      error: error.message || 'Login failed. Please try again.'\n    };\n  }\n};\n\n/**\n * Register new user\n * @param {object} userData \n * @returns {Promise<{success: boolean, token?: string, user?: object, error?: string}>}\n */\nexport const register = async userData => {\n  try {\n    // Real API call only - no mock fallback\n    const response = await fetch(`${API_BASE_URL}/auth/register`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userData)\n    });\n\n    // Handle network errors\n    if (!response.ok && response.status === 0) {\n      throw new Error('Cannot connect to backend server. Please ensure the backend is running on port 3001.');\n    }\n    const data = await response.json();\n    if (data.success && data.token) {\n      setToken(data.token);\n      return {\n        success: true,\n        token: data.token,\n        user: {\n          id: data.user.id,\n          email: data.user.email,\n          fullName: data.user.fullName,\n          teamName: data.user.teamName,\n          division: data.user.division,\n          offensiveSystem: data.user.offensiveSystem,\n          defensiveSystem: data.user.defensiveSystem\n        }\n      };\n    } else {\n      return {\n        success: false,\n        error: data.error || 'Registration failed. Please try again.'\n      };\n    }\n  } catch (error) {\n    // Check if it's a network error\n    if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError')) {\n      return {\n        success: false,\n        error: 'Cannot connect to backend server. Please ensure the backend is running on port 3001.'\n      };\n    }\n    return {\n      success: false,\n      error: error.message || 'Registration failed. Please try again.'\n    };\n  }\n};\n\n/**\n * Logout user\n */\nexport const logout = () => {\n  removeToken();\n  localStorage.removeItem('coachProfile');\n  localStorage.removeItem('coachingBias');\n  localStorage.removeItem('teamState');\n  localStorage.removeItem('playerProfiles');\n  localStorage.removeItem('recruitingState');\n};\n\n/**\n * Refresh token (if implementing refresh token flow)\n * Note: Token generation is handled by the backend API\n */\nexport const refreshToken = async () => {\n  try {\n    const token = getToken();\n    if (!token) {\n      throw new Error('No token to refresh');\n    }\n\n    // Token refresh should be handled by the backend API\n    // Uncomment and implement when backend refresh endpoint is available\n    const response = await fetch(`${API_BASE_URL}/auth/refresh`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.ok) {\n      throw new Error('Token refresh failed');\n    }\n    const data = await response.json();\n    if (data.success && data.token) {\n      setToken(data.token);\n      return {\n        success: true,\n        token: data.token\n      };\n    } else {\n      throw new Error(data.error || 'Token refresh failed');\n    }\n  } catch (error) {\n    // If refresh endpoint doesn't exist or fails, logout user\n    logout();\n    return {\n      success: false,\n      error: error.message || 'Token refresh not available. Please login again.'\n    };\n  }\n};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","NODE_ENV","USE_REAL_API","decodeToken","token","parts","split","length","payload","JSON","parse","atob","userId","user","id","email","fullName","teamName","division","offensiveSystem","defensiveSystem","exp","iat","error","isTokenExpired","Date","now","setToken","localStorage","setItem","getToken","getItem","removeToken","removeItem","getCurrentUser","isAuthenticated","login","password","response","fetch","method","headers","body","stringify","ok","status","Error","data","json","success","message","includes","register","userData","logout","refreshToken"],"sources":["/Users/muhammadfizantariq/Downloads/Knext/frontend/src/services/authService.js"],"sourcesContent":["/**\n * Authentication Service\n * Handles JWT token management and authentication API calls\n */\n\n// Use relative URL in production (Docker), absolute in development\nconst API_BASE_URL = process.env.REACT_APP_API_URL || \n  (process.env.NODE_ENV === 'production' ? '/api' : 'http://localhost:3001/api');\n\n// Always use real API - no mock fallback\nconst USE_REAL_API = true;\n\n// Note: Token generation is now handled by the backend API\n// This function is kept for reference but not used\n\n/**\n * Decode JWT token\n * For real JWT tokens from backend, this just extracts the payload\n * Backend verifies the signature\n */\nconst decodeToken = (token) => {\n  try {\n    const parts = token.split('.');\n    if (parts.length !== 3) return null;\n    const payload = JSON.parse(atob(parts[1]));\n    \n    // If token has userId (from backend), map it to user structure\n    if (payload.userId) {\n      return {\n        user: {\n          id: payload.userId,\n          email: payload.email,\n          fullName: payload.fullName,\n          teamName: payload.teamName,\n          division: payload.division,\n          offensiveSystem: payload.offensiveSystem,\n          defensiveSystem: payload.defensiveSystem\n        },\n        exp: payload.exp,\n        iat: payload.iat\n      };\n    }\n    \n    return payload;\n  } catch (error) {\n    return null;\n  }\n};\n\n/**\n * Check if token is expired\n */\nconst isTokenExpired = (token) => {\n  if (!token) return true;\n  const payload = decodeToken(token);\n  if (!payload) return true;\n  \n  // Check expiration (exp is in seconds, Date.now() is in milliseconds)\n  if (payload.exp) {\n    return Date.now() >= payload.exp * 1000;\n  }\n  \n  // If no exp field, assume expired (invalid token)\n  return true;\n};\n\n/**\n * Store token in localStorage\n */\nexport const setToken = (token) => {\n  localStorage.setItem('authToken', token);\n};\n\n/**\n * Get token from localStorage\n */\nexport const getToken = () => {\n  return localStorage.getItem('authToken');\n};\n\n/**\n * Remove token from localStorage\n */\nexport const removeToken = () => {\n  localStorage.removeItem('authToken');\n};\n\n/**\n * Get current user from token\n */\nexport const getCurrentUser = () => {\n  const token = getToken();\n  if (!token) return null;\n  \n  if (isTokenExpired(token)) {\n    removeToken();\n    return null;\n  }\n  \n  const payload = decodeToken(token);\n  if (!payload) return null;\n  \n  // Handle both mock and real JWT token structures\n  return payload.user || {\n    id: payload.userId,\n    email: payload.email,\n    fullName: payload.fullName,\n    teamName: payload.teamName,\n    division: payload.division,\n    offensiveSystem: payload.offensiveSystem,\n    defensiveSystem: payload.defensiveSystem\n  };\n};\n\n/**\n * Check if user is authenticated\n * Strict check: token must exist, be valid, and not expired\n */\nexport const isAuthenticated = () => {\n  const token = getToken();\n  if (!token) {\n    // No token - clear any stale profile data\n    localStorage.removeItem('coachProfile');\n    return false;\n  }\n  \n  // Check if token is expired\n  if (isTokenExpired(token)) {\n    // Token expired - clear everything\n    removeToken();\n    localStorage.removeItem('coachProfile');\n    return false;\n  }\n  \n  // Verify token has valid user data\n  const user = getCurrentUser();\n  if (!user) {\n    // Token exists but user data is invalid - clear everything\n    removeToken();\n    localStorage.removeItem('coachProfile');\n    return false;\n  }\n  \n  return true;\n};\n\n/**\n * Login user\n * @param {string} email \n * @param {string} password \n * @returns {Promise<{success: boolean, token?: string, user?: object, error?: string}>}\n */\nexport const login = async (email, password) => {\n  try {\n    // Real API call only - no mock fallback\n    const response = await fetch(`${API_BASE_URL}/auth/login`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ email, password })\n    });\n\n    // Handle network errors\n    if (!response.ok && response.status === 0) {\n      throw new Error('Cannot connect to backend server. Please ensure the backend is running on port 3001.');\n    }\n\n    const data = await response.json();\n\n    if (data.success && data.token) {\n      setToken(data.token);\n      return {\n        success: true,\n        token: data.token,\n        user: {\n          id: data.user.id,\n          email: data.user.email,\n          fullName: data.user.fullName,\n          teamName: data.user.teamName,\n          division: data.user.division,\n          offensiveSystem: data.user.offensiveSystem,\n          defensiveSystem: data.user.defensiveSystem\n        }\n      };\n    } else {\n      return {\n        success: false,\n        error: data.error || 'Login failed. Please try again.'\n      };\n    }\n  } catch (error) {\n    // Check if it's a network error\n    if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError')) {\n      return {\n        success: false,\n        error: 'Cannot connect to backend server. Please ensure the backend is running on port 3001.'\n      };\n    }\n    return {\n      success: false,\n      error: error.message || 'Login failed. Please try again.'\n    };\n  }\n};\n\n/**\n * Register new user\n * @param {object} userData \n * @returns {Promise<{success: boolean, token?: string, user?: object, error?: string}>}\n */\nexport const register = async (userData) => {\n  try {\n    // Real API call only - no mock fallback\n    const response = await fetch(`${API_BASE_URL}/auth/register`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(userData)\n    });\n\n    // Handle network errors\n    if (!response.ok && response.status === 0) {\n      throw new Error('Cannot connect to backend server. Please ensure the backend is running on port 3001.');\n    }\n\n    const data = await response.json();\n\n    if (data.success && data.token) {\n      setToken(data.token);\n      return {\n        success: true,\n        token: data.token,\n        user: {\n          id: data.user.id,\n          email: data.user.email,\n          fullName: data.user.fullName,\n          teamName: data.user.teamName,\n          division: data.user.division,\n          offensiveSystem: data.user.offensiveSystem,\n          defensiveSystem: data.user.defensiveSystem\n        }\n      };\n    } else {\n      return {\n        success: false,\n        error: data.error || 'Registration failed. Please try again.'\n      };\n    }\n  } catch (error) {\n    // Check if it's a network error\n    if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError')) {\n      return {\n        success: false,\n        error: 'Cannot connect to backend server. Please ensure the backend is running on port 3001.'\n      };\n    }\n    return {\n      success: false,\n      error: error.message || 'Registration failed. Please try again.'\n    };\n  }\n};\n\n/**\n * Logout user\n */\nexport const logout = () => {\n  removeToken();\n  localStorage.removeItem('coachProfile');\n  localStorage.removeItem('coachingBias');\n  localStorage.removeItem('teamState');\n  localStorage.removeItem('playerProfiles');\n  localStorage.removeItem('recruitingState');\n};\n\n/**\n * Refresh token (if implementing refresh token flow)\n * Note: Token generation is handled by the backend API\n */\nexport const refreshToken = async () => {\n  try {\n    const token = getToken();\n    if (!token) {\n      throw new Error('No token to refresh');\n    }\n\n    // Token refresh should be handled by the backend API\n    // Uncomment and implement when backend refresh endpoint is available\n    const response = await fetch(`${API_BASE_URL}/auth/refresh`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n\n    if (!response.ok) {\n      throw new Error('Token refresh failed');\n    }\n\n    const data = await response.json();\n\n    if (data.success && data.token) {\n      setToken(data.token);\n      return {\n        success: true,\n        token: data.token\n      };\n    } else {\n      throw new Error(data.error || 'Token refresh failed');\n    }\n  } catch (error) {\n    // If refresh endpoint doesn't exist or fails, logout user\n    logout();\n    return {\n      success: false,\n      error: error.message || 'Token refresh not available. Please login again.'\n    };\n  }\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}