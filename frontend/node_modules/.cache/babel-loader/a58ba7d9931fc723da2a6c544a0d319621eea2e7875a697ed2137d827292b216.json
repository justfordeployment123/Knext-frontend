{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useApp}from'../context/AppContext';import'./CoachKReactionPanel.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CoachKReactionPanel=_ref=>{let{teamMetrics,sandboxMetrics,depthChartState,coachingBias,coachProfile}=_ref;const{teamState}=useApp();const[insightFeed,setInsightFeed]=useState([]);const[pinnedSimulation,setPinnedSimulation]=useState(null);const[isCollapsed,setIsCollapsed]=useState(false);const[isPinned,setIsPinned]=useState(false);const prevMetricsRef=useRef(null);const prevRosterRef=useRef(null);// Generate insight message based on trigger and context\nconst generateInsight=(trigger,context)=>{const currentMetrics=sandboxMetrics||teamMetrics;const prevMetrics=prevMetricsRef.current||teamMetrics;const deltaKPI=currentMetrics.teamKPI-prevMetrics.teamKPI;const deltaFit=currentMetrics.systemFit-prevMetrics.systemFit;let message='';let icon='ðŸ§ ';let type='info';let highlight=null;switch(trigger){case'roster_add':message=\"Added \".concat(context.playerName,\" (OVR \").concat(context.kpi,\") \\u2192 Team KPI \").concat(deltaKPI>=0?'+':'').concat(deltaKPI.toFixed(1),\" \\xB7 Fit \").concat(currentMetrics.systemFit,\"%\");icon='ðŸ“ˆ';type=deltaKPI>=0?'positive':'negative';break;case'roster_remove':message=\"Removed \".concat(context.playerName,\" \\u2192 Team KPI \").concat(deltaKPI>=0?'+':'').concat(deltaKPI.toFixed(1),\" \\xB7 Fit \").concat(currentMetrics.systemFit,\"%\");icon='ðŸ“‰';type=deltaKPI<0?'positive':'negative';break;case'depth_swap':message=\"Lineup shift detected: \".concat(context.fromPosition,\" \\u2192 \").concat(context.toPosition,\" \\xB7 \").concat(context.clusterChange?\"\".concat(context.clusterChange,\" cluster \").concat(context.clusterDelta>=0?'+':'').concat(context.clusterDelta,\"%\"):'Positional balance updated');icon='âš™ï¸';type='info';break;case'bias_apply':message=\"\".concat(context.biasType,\" bias \").concat(context.biasDelta>=0?'+':'').concat(context.biasDelta,\"% \\u2192 Team KPI \").concat(deltaKPI>=0?'+':'').concat(deltaKPI.toFixed(1),\" \\xB7 \").concat(context.defGrade?\"def grade \".concat(context.defGrade):'system alignment updated');icon='âš™ï¸';type=deltaKPI>=0?'positive':'negative';break;case'financial_edit':message=\"Financial adjustment \\u2192 \".concat(context.field,\" updated. \").concat(context.nearCap?'Near scholarship cap â€” reallocating affects summary.':'Budget recalculated.');icon='ðŸ’°';type='info';break;case'predixt_run':message=\"PrediXt\\u2122 simulation initiated \\u2014 using \".concat(context.sandbox?'sandbox':'official',\" lineup (\").concat(context.playerCount,\" verified players).\");icon='âš™ï¸';type='simulation';break;case'scenario_projection':message=\"Season projection finished \\u2014 \".concat(deltaKPI>=0?'+':'').concat(deltaKPI.toFixed(1),\" KPI gain vs baseline.\");icon='ðŸ“Š';type='simulation';highlight={winProb:context.winProb,opponent:context.opponent,deltaKPI:deltaKPI.toFixed(1)};break;case'roster_apply':message=\"Roster locked \\xB7 League Projection refresh queued for tonight.\";icon='ðŸ’¾';type='success';break;case'depth_analysis':const guardWeight=calculateGuardWeight(depthChartState);const offenseSystem=(coachingBias===null||coachingBias===void 0?void 0:coachingBias.offensiveSystem)||'Not Set';message=\"\".concat(offenseSystem,\" offense \").concat(guardWeight,\"% guard-weighted \\u2014 \").concat(guardWeight>70?'rim protection below target.':'positional balance optimal.');icon='ðŸ“Š';type=guardWeight>70?'warning':'info';highlight={guardWeight,needsRimProtection:guardWeight>70};break;case'strategic_insight':const tier=getTierFromKPI(currentMetrics.teamKPI);const division=(coachProfile===null||coachProfile===void 0?void 0:coachProfile.division)||'USCAA';message=\"Current projection \".concat(currentMetrics.teamKPI.toFixed(0),\" KPI \\u2192 \").concat(division,\" \").concat(tier,\". \").concat(context.recommendation||'Add one Defensive Anchor to reach Top 25.');icon='ðŸŽ¯';type='strategic';highlight={tier,division,recommendation:context.recommendation};break;default:message=context.message||'Roster updated.';break;}return{id:\"insight_\".concat(Date.now(),\"_\").concat(Math.random()),trigger,message,icon,type,deltaKPI:deltaKPI.toFixed(1),deltaFit:deltaFit>=0?\"+\".concat(deltaFit):\"\".concat(deltaFit),highlight,timestamp:Date.now()};};const calculateGuardWeight=lineupState=>{const pgPlayers=lineupState.PG||[];const cgPlayers=lineupState.CG||[];const allPlayers=Object.values(lineupState).flat();if(allPlayers.length===0)return 0;const guardCount=pgPlayers.length+cgPlayers.length;return Math.round(guardCount/allPlayers.length*100);};const getTierFromKPI=kpi=>{if(kpi>=85)return'Elite';if(kpi>=80)return'Contender';if(kpi>=75)return'Competitive';if(kpi>=70)return'Building';return'Rebuilding';};// Monitor roster changes\nuseEffect(()=>{if(prevRosterRef.current&&teamState.roster){const prevRoster=prevRosterRef.current;const currentRoster=teamState.roster;// Check for additions\nconst added=currentRoster.filter(p=>!prevRoster.find(prev=>prev.id===p.id));if(added.length>0){const player=added[0];const insight=generateInsight('roster_add',{playerName:player.name,kpi:player.final_kpi||player.kpi||0});addInsight(insight);}// Check for removals\nconst removed=prevRoster.filter(p=>!currentRoster.find(curr=>curr.id===p.id));if(removed.length>0){const player=removed[0];const insight=generateInsight('roster_remove',{playerName:player.name});addInsight(insight);}}prevRosterRef.current=teamState.roster?[...teamState.roster]:[];},[teamState.roster]);// Monitor metrics changes\nuseEffect(()=>{if(prevMetricsRef.current){const currentMetrics=sandboxMetrics||teamMetrics;const prevMetrics=prevMetricsRef.current;const deltaKPI=Math.abs(currentMetrics.teamKPI-prevMetrics.teamKPI);const deltaFit=Math.abs(currentMetrics.systemFit-prevMetrics.systemFit);// Only generate insight if significant change\nif(deltaKPI>0.5||deltaFit>2){// This will be handled by specific triggers (roster_add, depth_swap, etc.)\n}}prevMetricsRef.current=sandboxMetrics||teamMetrics;},[teamMetrics,sandboxMetrics]);// Listen for depth chart swaps\nuseEffect(()=>{if(Object.keys(depthChartState).length>0){const guardWeight=calculateGuardWeight(depthChartState);const insight=generateInsight('depth_analysis',{});addInsight(insight);}},[depthChartState]);// Listen for custom events\nuseEffect(()=>{const handleRosterChange=e=>{const insight=generateInsight(e.detail.trigger,e.detail.context);addInsight(insight);};const handleDepthSwap=e=>{const insight=generateInsight('depth_swap',e.detail);addInsight(insight);};const handleBiasApply=e=>{const insight=generateInsight('bias_apply',e.detail);addInsight(insight);};const handleFinancialEdit=e=>{const insight=generateInsight('financial_edit',e.detail);addInsight(insight);};const handlePrediXtRun=e=>{const insight=generateInsight('predixt_run',e.detail);if(e.detail.simulationType==='scenario'){setPinnedSimulation(insight);setTimeout(()=>setPinnedSimulation(null),15000);}else{addInsight(insight);}};const handleRosterApply=()=>{const insight=generateInsight('roster_apply',{});addInsight(insight);};window.addEventListener('teamRosterChange',handleRosterChange);window.addEventListener('teamDepthSwap',handleDepthSwap);window.addEventListener('teamBiasApply',handleBiasApply);window.addEventListener('teamFinancialEdit',handleFinancialEdit);window.addEventListener('teamPrediXtRun',handlePrediXtRun);window.addEventListener('teamRosterApply',handleRosterApply);return()=>{window.removeEventListener('teamRosterChange',handleRosterChange);window.removeEventListener('teamDepthSwap',handleDepthSwap);window.removeEventListener('teamBiasApply',handleBiasApply);window.removeEventListener('teamFinancialEdit',handleFinancialEdit);window.removeEventListener('teamPrediXtRun',handlePrediXtRun);window.removeEventListener('teamRosterApply',handleRosterApply);};},[]);const addInsight=insight=>{setInsightFeed(prev=>{const newFeed=[insight,...prev].slice(0,3);// Max 3 messages\nreturn newFeed;});};const getDeltaColor=delta=>{const num=parseFloat(delta);if(num>0)return'#D4AF37';// Gold\nif(num<0)return'#FF4D4D';// Red\nreturn'#FFFFFF';// White\n};const getDeltaIcon=delta=>{const num=parseFloat(delta);if(num>0)return'â†‘';if(num<0)return'â†“';return'â†’';};if(isCollapsed){return/*#__PURE__*/_jsx(\"div\",{className:\"coach-k-reaction-panel collapsed\",onClick:()=>setIsCollapsed(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"collapse-indicator\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:\"\\uD83E\\uDDE0\"}),insightFeed.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"badge\",children:insightFeed.length})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"coach-k-reaction-panel \".concat(isPinned?'pinned':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:\"\\uD83E\\uDDE0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Coach K\\u2122 Reactions\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn\",onClick:()=>setIsPinned(!isPinned),title:isPinned?'Unpin':'Pin',children:\"\\uD83D\\uDCCC\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn\",onClick:()=>setIsCollapsed(true),title:\"Collapse\",children:\"\\u2212\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel-content\",children:[pinnedSimulation&&/*#__PURE__*/_jsxs(\"div\",{className:\"insight-card simulation pinned\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"card-icon\",children:pinnedSimulation.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"card-type\",children:\"Simulation\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-message\",children:pinnedSimulation.message}),pinnedSimulation.highlight&&/*#__PURE__*/_jsxs(\"div\",{className:\"card-highlight\",children:[pinnedSimulation.highlight.winProb&&/*#__PURE__*/_jsxs(\"div\",{className:\"highlight-item\",children:[\"Win Prob: \",/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[pinnedSimulation.highlight.winProb,\"%\"]})]}),pinnedSimulation.highlight.opponent&&/*#__PURE__*/_jsxs(\"div\",{className:\"highlight-item\",children:[\"vs \",/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:pinnedSimulation.highlight.opponent})]}),pinnedSimulation.highlight.deltaKPI&&/*#__PURE__*/_jsxs(\"div\",{className:\"highlight-item\",children:[\"KPI \\u0394: \",/*#__PURE__*/_jsxs(\"span\",{className:\"value\",style:{color:getDeltaColor(pinnedSimulation.highlight.deltaKPI)},children:[getDeltaIcon(pinnedSimulation.highlight.deltaKPI),\" \",pinnedSimulation.highlight.deltaKPI]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"insight-feed\",children:insightFeed.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Coach K\\u2122 will react to roster changes, lineup tests, and simulations here.\"})}):insightFeed.map(insight=>/*#__PURE__*/_jsxs(\"div\",{className:\"insight-card \".concat(insight.type),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"card-icon\",children:insight.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"card-type\",children:insight.trigger})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-message\",children:insight.message}),(insight.deltaKPI!=='0.0'||insight.deltaFit!=='0')&&/*#__PURE__*/_jsxs(\"div\",{className:\"card-deltas\",children:[insight.deltaKPI!=='0.0'&&/*#__PURE__*/_jsxs(\"span\",{className:\"delta\",style:{color:getDeltaColor(insight.deltaKPI)},children:[\"KPI \",getDeltaIcon(insight.deltaKPI),\" \",insight.deltaKPI]}),insight.deltaFit!=='0'&&/*#__PURE__*/_jsxs(\"span\",{className:\"delta\",style:{color:getDeltaColor(insight.deltaFit)},children:[\"Fit \",getDeltaIcon(insight.deltaFit),\" \",insight.deltaFit,\"%\"]})]}),insight.highlight&&/*#__PURE__*/_jsxs(\"div\",{className:\"card-highlight\",children:[insight.highlight.guardWeight&&/*#__PURE__*/_jsxs(\"div\",{className:\"highlight-item\",children:[\"Guard Weight: \",/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[insight.highlight.guardWeight,\"%\"]})]}),insight.highlight.recommendation&&/*#__PURE__*/_jsx(\"div\",{className:\"highlight-item\",children:/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:insight.highlight.recommendation})})]})]},insight.id))})]})]});};export default CoachKReactionPanel;","map":{"version":3,"names":["React","useState","useEffect","useRef","useApp","jsx","_jsx","jsxs","_jsxs","CoachKReactionPanel","_ref","teamMetrics","sandboxMetrics","depthChartState","coachingBias","coachProfile","teamState","insightFeed","setInsightFeed","pinnedSimulation","setPinnedSimulation","isCollapsed","setIsCollapsed","isPinned","setIsPinned","prevMetricsRef","prevRosterRef","generateInsight","trigger","context","currentMetrics","prevMetrics","current","deltaKPI","teamKPI","deltaFit","systemFit","message","icon","type","highlight","concat","playerName","kpi","toFixed","fromPosition","toPosition","clusterChange","clusterDelta","biasType","biasDelta","defGrade","field","nearCap","sandbox","playerCount","winProb","opponent","guardWeight","calculateGuardWeight","offenseSystem","offensiveSystem","needsRimProtection","tier","getTierFromKPI","division","recommendation","id","Date","now","Math","random","timestamp","lineupState","pgPlayers","PG","cgPlayers","CG","allPlayers","Object","values","flat","length","guardCount","round","roster","prevRoster","currentRoster","added","filter","p","find","prev","player","insight","name","final_kpi","addInsight","removed","curr","abs","keys","handleRosterChange","e","detail","handleDepthSwap","handleBiasApply","handleFinancialEdit","handlePrediXtRun","simulationType","setTimeout","handleRosterApply","window","addEventListener","removeEventListener","newFeed","slice","getDeltaColor","delta","num","parseFloat","getDeltaIcon","className","onClick","children","title","style","color","map"],"sources":["/Users/muhammadfizantariq/Downloads/Knext_2/frontend/src/components/CoachKReactionPanel.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useApp } from '../context/AppContext';\nimport './CoachKReactionPanel.css';\n\nconst CoachKReactionPanel = ({ teamMetrics, sandboxMetrics, depthChartState, coachingBias, coachProfile }) => {\n  const { teamState } = useApp();\n  const [insightFeed, setInsightFeed] = useState([]);\n  const [pinnedSimulation, setPinnedSimulation] = useState(null);\n  const [isCollapsed, setIsCollapsed] = useState(false);\n  const [isPinned, setIsPinned] = useState(false);\n  const prevMetricsRef = useRef(null);\n  const prevRosterRef = useRef(null);\n\n  // Generate insight message based on trigger and context\n  const generateInsight = (trigger, context) => {\n    const currentMetrics = sandboxMetrics || teamMetrics;\n    const prevMetrics = prevMetricsRef.current || teamMetrics;\n    \n    const deltaKPI = currentMetrics.teamKPI - prevMetrics.teamKPI;\n    const deltaFit = currentMetrics.systemFit - prevMetrics.systemFit;\n\n    let message = '';\n    let icon = 'ðŸ§ ';\n    let type = 'info';\n    let highlight = null;\n\n    switch (trigger) {\n      case 'roster_add':\n        message = `Added ${context.playerName} (OVR ${context.kpi}) â†’ Team KPI ${deltaKPI >= 0 ? '+' : ''}${deltaKPI.toFixed(1)} Â· Fit ${currentMetrics.systemFit}%`;\n        icon = 'ðŸ“ˆ';\n        type = deltaKPI >= 0 ? 'positive' : 'negative';\n        break;\n\n      case 'roster_remove':\n        message = `Removed ${context.playerName} â†’ Team KPI ${deltaKPI >= 0 ? '+' : ''}${deltaKPI.toFixed(1)} Â· Fit ${currentMetrics.systemFit}%`;\n        icon = 'ðŸ“‰';\n        type = deltaKPI < 0 ? 'positive' : 'negative';\n        break;\n\n      case 'depth_swap':\n        message = `Lineup shift detected: ${context.fromPosition} â†’ ${context.toPosition} Â· ${context.clusterChange ? `${context.clusterChange} cluster ${context.clusterDelta >= 0 ? '+' : ''}${context.clusterDelta}%` : 'Positional balance updated'}`;\n        icon = 'âš™ï¸';\n        type = 'info';\n        break;\n\n      case 'bias_apply':\n        message = `${context.biasType} bias ${context.biasDelta >= 0 ? '+' : ''}${context.biasDelta}% â†’ Team KPI ${deltaKPI >= 0 ? '+' : ''}${deltaKPI.toFixed(1)} Â· ${context.defGrade ? `def grade ${context.defGrade}` : 'system alignment updated'}`;\n        icon = 'âš™ï¸';\n        type = deltaKPI >= 0 ? 'positive' : 'negative';\n        break;\n\n      case 'financial_edit':\n        message = `Financial adjustment â†’ ${context.field} updated. ${context.nearCap ? 'Near scholarship cap â€” reallocating affects summary.' : 'Budget recalculated.'}`;\n        icon = 'ðŸ’°';\n        type = 'info';\n        break;\n\n      case 'predixt_run':\n        message = `PrediXtâ„¢ simulation initiated â€” using ${context.sandbox ? 'sandbox' : 'official'} lineup (${context.playerCount} verified players).`;\n        icon = 'âš™ï¸';\n        type = 'simulation';\n        break;\n\n      case 'scenario_projection':\n        message = `Season projection finished â€” ${deltaKPI >= 0 ? '+' : ''}${deltaKPI.toFixed(1)} KPI gain vs baseline.`;\n        icon = 'ðŸ“Š';\n        type = 'simulation';\n        highlight = {\n          winProb: context.winProb,\n          opponent: context.opponent,\n          deltaKPI: deltaKPI.toFixed(1)\n        };\n        break;\n\n      case 'roster_apply':\n        message = `Roster locked Â· League Projection refresh queued for tonight.`;\n        icon = 'ðŸ’¾';\n        type = 'success';\n        break;\n\n      case 'depth_analysis':\n        const guardWeight = calculateGuardWeight(depthChartState);\n        const offenseSystem = coachingBias?.offensiveSystem || 'Not Set';\n        message = `${offenseSystem} offense ${guardWeight}% guard-weighted â€” ${guardWeight > 70 ? 'rim protection below target.' : 'positional balance optimal.'}`;\n        icon = 'ðŸ“Š';\n        type = guardWeight > 70 ? 'warning' : 'info';\n        highlight = { guardWeight, needsRimProtection: guardWeight > 70 };\n        break;\n\n      case 'strategic_insight':\n        const tier = getTierFromKPI(currentMetrics.teamKPI);\n        const division = coachProfile?.division || 'USCAA';\n        message = `Current projection ${currentMetrics.teamKPI.toFixed(0)} KPI â†’ ${division} ${tier}. ${context.recommendation || 'Add one Defensive Anchor to reach Top 25.'}`;\n        icon = 'ðŸŽ¯';\n        type = 'strategic';\n        highlight = { tier, division, recommendation: context.recommendation };\n        break;\n\n      default:\n        message = context.message || 'Roster updated.';\n        break;\n    }\n\n    return {\n      id: `insight_${Date.now()}_${Math.random()}`,\n      trigger,\n      message,\n      icon,\n      type,\n      deltaKPI: deltaKPI.toFixed(1),\n      deltaFit: deltaFit >= 0 ? `+${deltaFit}` : `${deltaFit}`,\n      highlight,\n      timestamp: Date.now()\n    };\n  };\n\n  const calculateGuardWeight = (lineupState) => {\n    const pgPlayers = lineupState.PG || [];\n    const cgPlayers = lineupState.CG || [];\n    const allPlayers = Object.values(lineupState).flat();\n    \n    if (allPlayers.length === 0) return 0;\n    \n    const guardCount = pgPlayers.length + cgPlayers.length;\n    return Math.round((guardCount / allPlayers.length) * 100);\n  };\n\n  const getTierFromKPI = (kpi) => {\n    if (kpi >= 85) return 'Elite';\n    if (kpi >= 80) return 'Contender';\n    if (kpi >= 75) return 'Competitive';\n    if (kpi >= 70) return 'Building';\n    return 'Rebuilding';\n  };\n\n  // Monitor roster changes\n  useEffect(() => {\n    if (prevRosterRef.current && teamState.roster) {\n      const prevRoster = prevRosterRef.current;\n      const currentRoster = teamState.roster;\n\n      // Check for additions\n      const added = currentRoster.filter(p => !prevRoster.find(prev => prev.id === p.id));\n      if (added.length > 0) {\n        const player = added[0];\n        const insight = generateInsight('roster_add', {\n          playerName: player.name,\n          kpi: player.final_kpi || player.kpi || 0\n        });\n        addInsight(insight);\n      }\n\n      // Check for removals\n      const removed = prevRoster.filter(p => !currentRoster.find(curr => curr.id === p.id));\n      if (removed.length > 0) {\n        const player = removed[0];\n        const insight = generateInsight('roster_remove', {\n          playerName: player.name\n        });\n        addInsight(insight);\n      }\n    }\n\n    prevRosterRef.current = teamState.roster ? [...teamState.roster] : [];\n  }, [teamState.roster]);\n\n  // Monitor metrics changes\n  useEffect(() => {\n    if (prevMetricsRef.current) {\n      const currentMetrics = sandboxMetrics || teamMetrics;\n      const prevMetrics = prevMetricsRef.current;\n\n      const deltaKPI = Math.abs(currentMetrics.teamKPI - prevMetrics.teamKPI);\n      const deltaFit = Math.abs(currentMetrics.systemFit - prevMetrics.systemFit);\n\n      // Only generate insight if significant change\n      if (deltaKPI > 0.5 || deltaFit > 2) {\n        // This will be handled by specific triggers (roster_add, depth_swap, etc.)\n      }\n    }\n\n    prevMetricsRef.current = sandboxMetrics || teamMetrics;\n  }, [teamMetrics, sandboxMetrics]);\n\n  // Listen for depth chart swaps\n  useEffect(() => {\n    if (Object.keys(depthChartState).length > 0) {\n      const guardWeight = calculateGuardWeight(depthChartState);\n      const insight = generateInsight('depth_analysis', {});\n      addInsight(insight);\n    }\n  }, [depthChartState]);\n\n  // Listen for custom events\n  useEffect(() => {\n    const handleRosterChange = (e) => {\n      const insight = generateInsight(e.detail.trigger, e.detail.context);\n      addInsight(insight);\n    };\n\n    const handleDepthSwap = (e) => {\n      const insight = generateInsight('depth_swap', e.detail);\n      addInsight(insight);\n    };\n\n    const handleBiasApply = (e) => {\n      const insight = generateInsight('bias_apply', e.detail);\n      addInsight(insight);\n    };\n\n    const handleFinancialEdit = (e) => {\n      const insight = generateInsight('financial_edit', e.detail);\n      addInsight(insight);\n    };\n\n    const handlePrediXtRun = (e) => {\n      const insight = generateInsight('predixt_run', e.detail);\n      if (e.detail.simulationType === 'scenario') {\n        setPinnedSimulation(insight);\n        setTimeout(() => setPinnedSimulation(null), 15000);\n      } else {\n        addInsight(insight);\n      }\n    };\n\n    const handleRosterApply = () => {\n      const insight = generateInsight('roster_apply', {});\n      addInsight(insight);\n    };\n\n    window.addEventListener('teamRosterChange', handleRosterChange);\n    window.addEventListener('teamDepthSwap', handleDepthSwap);\n    window.addEventListener('teamBiasApply', handleBiasApply);\n    window.addEventListener('teamFinancialEdit', handleFinancialEdit);\n    window.addEventListener('teamPrediXtRun', handlePrediXtRun);\n    window.addEventListener('teamRosterApply', handleRosterApply);\n\n    return () => {\n      window.removeEventListener('teamRosterChange', handleRosterChange);\n      window.removeEventListener('teamDepthSwap', handleDepthSwap);\n      window.removeEventListener('teamBiasApply', handleBiasApply);\n      window.removeEventListener('teamFinancialEdit', handleFinancialEdit);\n      window.removeEventListener('teamPrediXtRun', handlePrediXtRun);\n      window.removeEventListener('teamRosterApply', handleRosterApply);\n    };\n  }, []);\n\n  const addInsight = (insight) => {\n    setInsightFeed(prev => {\n      const newFeed = [insight, ...prev].slice(0, 3); // Max 3 messages\n      return newFeed;\n    });\n  };\n\n  const getDeltaColor = (delta) => {\n    const num = parseFloat(delta);\n    if (num > 0) return '#D4AF37'; // Gold\n    if (num < 0) return '#FF4D4D'; // Red\n    return '#FFFFFF'; // White\n  };\n\n  const getDeltaIcon = (delta) => {\n    const num = parseFloat(delta);\n    if (num > 0) return 'â†‘';\n    if (num < 0) return 'â†“';\n    return 'â†’';\n  };\n\n  if (isCollapsed) {\n    return (\n      <div className=\"coach-k-reaction-panel collapsed\" onClick={() => setIsCollapsed(false)}>\n        <div className=\"collapse-indicator\">\n          <span className=\"icon\">ðŸ§ </span>\n          {insightFeed.length > 0 && <span className=\"badge\">{insightFeed.length}</span>}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`coach-k-reaction-panel ${isPinned ? 'pinned' : ''}`}>\n      <div className=\"panel-header\">\n        <div className=\"header-title\">\n          <span className=\"icon\">ðŸ§ </span>\n          <span>Coach Kâ„¢ Reactions</span>\n        </div>\n        <div className=\"header-actions\">\n          <button \n            className=\"action-btn\" \n            onClick={() => setIsPinned(!isPinned)}\n            title={isPinned ? 'Unpin' : 'Pin'}\n          >\n            ðŸ“Œ\n          </button>\n          <button \n            className=\"action-btn\" \n            onClick={() => setIsCollapsed(true)}\n            title=\"Collapse\"\n          >\n            âˆ’\n          </button>\n        </div>\n      </div>\n\n      <div className=\"panel-content\">\n        {/* Pinned Simulation Card */}\n        {pinnedSimulation && (\n          <div className=\"insight-card simulation pinned\">\n            <div className=\"card-header\">\n              <span className=\"card-icon\">{pinnedSimulation.icon}</span>\n              <span className=\"card-type\">Simulation</span>\n            </div>\n            <div className=\"card-message\">{pinnedSimulation.message}</div>\n            {pinnedSimulation.highlight && (\n              <div className=\"card-highlight\">\n                {pinnedSimulation.highlight.winProb && (\n                  <div className=\"highlight-item\">\n                    Win Prob: <span className=\"value\">{pinnedSimulation.highlight.winProb}%</span>\n                  </div>\n                )}\n                {pinnedSimulation.highlight.opponent && (\n                  <div className=\"highlight-item\">\n                    vs <span className=\"value\">{pinnedSimulation.highlight.opponent}</span>\n                  </div>\n                )}\n                {pinnedSimulation.highlight.deltaKPI && (\n                  <div className=\"highlight-item\">\n                    KPI Î”: <span className=\"value\" style={{ color: getDeltaColor(pinnedSimulation.highlight.deltaKPI) }}>\n                      {getDeltaIcon(pinnedSimulation.highlight.deltaKPI)} {pinnedSimulation.highlight.deltaKPI}\n                    </span>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Insight Feed */}\n        <div className=\"insight-feed\">\n          {insightFeed.length === 0 ? (\n            <div className=\"empty-state\">\n              <p>Coach Kâ„¢ will react to roster changes, lineup tests, and simulations here.</p>\n            </div>\n          ) : (\n            insightFeed.map(insight => (\n              <div key={insight.id} className={`insight-card ${insight.type}`}>\n                <div className=\"card-header\">\n                  <span className=\"card-icon\">{insight.icon}</span>\n                  <span className=\"card-type\">{insight.trigger}</span>\n                </div>\n                <div className=\"card-message\">{insight.message}</div>\n                {(insight.deltaKPI !== '0.0' || insight.deltaFit !== '0') && (\n                  <div className=\"card-deltas\">\n                    {insight.deltaKPI !== '0.0' && (\n                      <span className=\"delta\" style={{ color: getDeltaColor(insight.deltaKPI) }}>\n                        KPI {getDeltaIcon(insight.deltaKPI)} {insight.deltaKPI}\n                      </span>\n                    )}\n                    {insight.deltaFit !== '0' && (\n                      <span className=\"delta\" style={{ color: getDeltaColor(insight.deltaFit) }}>\n                        Fit {getDeltaIcon(insight.deltaFit)} {insight.deltaFit}%\n                      </span>\n                    )}\n                  </div>\n                )}\n                {insight.highlight && (\n                  <div className=\"card-highlight\">\n                    {insight.highlight.guardWeight && (\n                      <div className=\"highlight-item\">\n                        Guard Weight: <span className=\"value\">{insight.highlight.guardWeight}%</span>\n                      </div>\n                    )}\n                    {insight.highlight.recommendation && (\n                      <div className=\"highlight-item\">\n                        <span className=\"value\">{insight.highlight.recommendation}</span>\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CoachKReactionPanel;\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}