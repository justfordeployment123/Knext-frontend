{"ast":null,"code":"/**\n * Authentication Service\n * Handles JWT token management and authentication API calls\n */// Use relative URL in production (Docker), absolute in development\nconst API_BASE_URL=process.env.REACT_APP_API_URL||(process.env.NODE_ENV==='production'?'/api':'http://localhost:3001/api');// Always use real API - no mock fallback\nconst USE_REAL_API=true;// Note: Token generation is now handled by the backend API\n// This function is kept for reference but not used\n/**\n * Decode JWT token\n * For real JWT tokens from backend, this just extracts the payload\n * Backend verifies the signature\n */const decodeToken=token=>{try{const parts=token.split('.');if(parts.length!==3)return null;const payload=JSON.parse(atob(parts[1]));// If token has userId (from backend), map it to user structure\nif(payload.userId){return{user:{id:payload.userId,email:payload.email,fullName:payload.fullName,teamName:payload.teamName,division:payload.division,offensiveSystem:payload.offensiveSystem,defensiveSystem:payload.defensiveSystem},exp:payload.exp,iat:payload.iat};}return payload;}catch(error){return null;}};/**\n * Check if token is expired\n */const isTokenExpired=token=>{if(!token)return true;const payload=decodeToken(token);if(!payload)return true;// Check expiration (exp is in seconds, Date.now() is in milliseconds)\nif(payload.exp){return Date.now()>=payload.exp*1000;}// If no exp field, assume expired (invalid token)\nreturn true;};/**\n * Store token in localStorage\n */export const setToken=token=>{localStorage.setItem('authToken',token);};/**\n * Get token from localStorage\n */export const getToken=()=>{return localStorage.getItem('authToken');};/**\n * Remove token from localStorage\n */export const removeToken=()=>{localStorage.removeItem('authToken');};/**\n * Get current user from token\n */export const getCurrentUser=()=>{const token=getToken();if(!token)return null;if(isTokenExpired(token)){removeToken();return null;}const payload=decodeToken(token);if(!payload)return null;// Handle both mock and real JWT token structures\nreturn payload.user||{id:payload.userId,email:payload.email,fullName:payload.fullName,teamName:payload.teamName,division:payload.division,offensiveSystem:payload.offensiveSystem,defensiveSystem:payload.defensiveSystem};};/**\n * Check if user is authenticated\n * Strict check: token must exist, be valid, and not expired\n */export const isAuthenticated=()=>{const token=getToken();if(!token){// No token - clear any stale profile data\nlocalStorage.removeItem('coachProfile');return false;}// Check if token is expired\nif(isTokenExpired(token)){// Token expired - clear everything\nremoveToken();localStorage.removeItem('coachProfile');return false;}// Verify token has valid user data\nconst user=getCurrentUser();if(!user){// Token exists but user data is invalid - clear everything\nremoveToken();localStorage.removeItem('coachProfile');return false;}return true;};/**\n * Login user\n * @param {string} email \n * @param {string} password \n * @returns {Promise<{success: boolean, token?: string, user?: object, error?: string}>}\n */export const login=async(email,password)=>{try{// Real API call only - no mock fallback\nconst response=await fetch(\"\".concat(API_BASE_URL,\"/auth/login\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});// Handle network errors\nif(!response.ok&&response.status===0){throw new Error('Cannot connect to backend server. Please ensure the backend is running on port 3001.');}const data=await response.json();if(data.success&&data.token){setToken(data.token);return{success:true,token:data.token,user:{id:data.user.id,email:data.user.email,fullName:data.user.fullName,teamName:data.user.teamName,division:data.user.division,offensiveSystem:data.user.offensiveSystem,defensiveSystem:data.user.defensiveSystem}};}else{return{success:false,error:data.error||'Login failed. Please try again.'};}}catch(error){// Check if it's a network error\nif(error.message.includes('Failed to fetch')||error.message.includes('NetworkError')){return{success:false,error:'Cannot connect to backend server. Please ensure the backend is running on port 3001.'};}return{success:false,error:error.message||'Login failed. Please try again.'};}};/**\n * Register new user\n * @param {object} userData \n * @returns {Promise<{success: boolean, token?: string, user?: object, error?: string}>}\n */export const register=async userData=>{try{// Real API call only - no mock fallback\nconst response=await fetch(\"\".concat(API_BASE_URL,\"/auth/register\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(userData)});// Handle network errors\nif(!response.ok&&response.status===0){throw new Error('Cannot connect to backend server. Please ensure the backend is running on port 3001.');}const data=await response.json();if(data.success&&data.token){setToken(data.token);return{success:true,token:data.token,user:{id:data.user.id,email:data.user.email,fullName:data.user.fullName,teamName:data.user.teamName,division:data.user.division,offensiveSystem:data.user.offensiveSystem,defensiveSystem:data.user.defensiveSystem}};}else{return{success:false,error:data.error||'Registration failed. Please try again.'};}}catch(error){// Check if it's a network error\nif(error.message.includes('Failed to fetch')||error.message.includes('NetworkError')){return{success:false,error:'Cannot connect to backend server. Please ensure the backend is running on port 3001.'};}return{success:false,error:error.message||'Registration failed. Please try again.'};}};/**\n * Logout user\n */export const logout=()=>{removeToken();localStorage.removeItem('coachProfile');localStorage.removeItem('coachingBias');localStorage.removeItem('teamState');localStorage.removeItem('playerProfiles');localStorage.removeItem('recruitingState');};/**\n * Refresh token (if implementing refresh token flow)\n * Note: Token generation is handled by the backend API\n */export const refreshToken=async()=>{try{const token=getToken();if(!token){throw new Error('No token to refresh');}// Token refresh should be handled by the backend API\n// Uncomment and implement when backend refresh endpoint is available\nconst response=await fetch(\"\".concat(API_BASE_URL,\"/auth/refresh\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});if(!response.ok){throw new Error('Token refresh failed');}const data=await response.json();if(data.success&&data.token){setToken(data.token);return{success:true,token:data.token};}else{throw new Error(data.error||'Token refresh failed');}}catch(error){// If refresh endpoint doesn't exist or fails, logout user\nlogout();return{success:false,error:error.message||'Token refresh not available. Please login again.'};}};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","NODE_ENV","USE_REAL_API","decodeToken","token","parts","split","length","payload","JSON","parse","atob","userId","user","id","email","fullName","teamName","division","offensiveSystem","defensiveSystem","exp","iat","error","isTokenExpired","Date","now","setToken","localStorage","setItem","getToken","getItem","removeToken","removeItem","getCurrentUser","isAuthenticated","login","password","response","fetch","concat","method","headers","body","stringify","ok","status","Error","data","json","success","message","includes","register","userData","logout","refreshToken"],"sources":["/Users/muhammadfizantariq/Downloads/Knext_2/frontend/src/services/authService.js"],"sourcesContent":["/**\n * Authentication Service\n * Handles JWT token management and authentication API calls\n */\n\n// Use relative URL in production (Docker), absolute in development\nconst API_BASE_URL = process.env.REACT_APP_API_URL || \n  (process.env.NODE_ENV === 'production' ? '/api' : 'http://localhost:3001/api');\n\n// Always use real API - no mock fallback\nconst USE_REAL_API = true;\n\n// Note: Token generation is now handled by the backend API\n// This function is kept for reference but not used\n\n/**\n * Decode JWT token\n * For real JWT tokens from backend, this just extracts the payload\n * Backend verifies the signature\n */\nconst decodeToken = (token) => {\n  try {\n    const parts = token.split('.');\n    if (parts.length !== 3) return null;\n    const payload = JSON.parse(atob(parts[1]));\n    \n    // If token has userId (from backend), map it to user structure\n    if (payload.userId) {\n      return {\n        user: {\n          id: payload.userId,\n          email: payload.email,\n          fullName: payload.fullName,\n          teamName: payload.teamName,\n          division: payload.division,\n          offensiveSystem: payload.offensiveSystem,\n          defensiveSystem: payload.defensiveSystem\n        },\n        exp: payload.exp,\n        iat: payload.iat\n      };\n    }\n    \n    return payload;\n  } catch (error) {\n    return null;\n  }\n};\n\n/**\n * Check if token is expired\n */\nconst isTokenExpired = (token) => {\n  if (!token) return true;\n  const payload = decodeToken(token);\n  if (!payload) return true;\n  \n  // Check expiration (exp is in seconds, Date.now() is in milliseconds)\n  if (payload.exp) {\n    return Date.now() >= payload.exp * 1000;\n  }\n  \n  // If no exp field, assume expired (invalid token)\n  return true;\n};\n\n/**\n * Store token in localStorage\n */\nexport const setToken = (token) => {\n  localStorage.setItem('authToken', token);\n};\n\n/**\n * Get token from localStorage\n */\nexport const getToken = () => {\n  return localStorage.getItem('authToken');\n};\n\n/**\n * Remove token from localStorage\n */\nexport const removeToken = () => {\n  localStorage.removeItem('authToken');\n};\n\n/**\n * Get current user from token\n */\nexport const getCurrentUser = () => {\n  const token = getToken();\n  if (!token) return null;\n  \n  if (isTokenExpired(token)) {\n    removeToken();\n    return null;\n  }\n  \n  const payload = decodeToken(token);\n  if (!payload) return null;\n  \n  // Handle both mock and real JWT token structures\n  return payload.user || {\n    id: payload.userId,\n    email: payload.email,\n    fullName: payload.fullName,\n    teamName: payload.teamName,\n    division: payload.division,\n    offensiveSystem: payload.offensiveSystem,\n    defensiveSystem: payload.defensiveSystem\n  };\n};\n\n/**\n * Check if user is authenticated\n * Strict check: token must exist, be valid, and not expired\n */\nexport const isAuthenticated = () => {\n  const token = getToken();\n  if (!token) {\n    // No token - clear any stale profile data\n    localStorage.removeItem('coachProfile');\n    return false;\n  }\n  \n  // Check if token is expired\n  if (isTokenExpired(token)) {\n    // Token expired - clear everything\n    removeToken();\n    localStorage.removeItem('coachProfile');\n    return false;\n  }\n  \n  // Verify token has valid user data\n  const user = getCurrentUser();\n  if (!user) {\n    // Token exists but user data is invalid - clear everything\n    removeToken();\n    localStorage.removeItem('coachProfile');\n    return false;\n  }\n  \n  return true;\n};\n\n/**\n * Login user\n * @param {string} email \n * @param {string} password \n * @returns {Promise<{success: boolean, token?: string, user?: object, error?: string}>}\n */\nexport const login = async (email, password) => {\n  try {\n    // Real API call only - no mock fallback\n    const response = await fetch(`${API_BASE_URL}/auth/login`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ email, password })\n    });\n\n    // Handle network errors\n    if (!response.ok && response.status === 0) {\n      throw new Error('Cannot connect to backend server. Please ensure the backend is running on port 3001.');\n    }\n\n    const data = await response.json();\n\n    if (data.success && data.token) {\n      setToken(data.token);\n      return {\n        success: true,\n        token: data.token,\n        user: {\n          id: data.user.id,\n          email: data.user.email,\n          fullName: data.user.fullName,\n          teamName: data.user.teamName,\n          division: data.user.division,\n          offensiveSystem: data.user.offensiveSystem,\n          defensiveSystem: data.user.defensiveSystem\n        }\n      };\n    } else {\n      return {\n        success: false,\n        error: data.error || 'Login failed. Please try again.'\n      };\n    }\n  } catch (error) {\n    // Check if it's a network error\n    if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError')) {\n      return {\n        success: false,\n        error: 'Cannot connect to backend server. Please ensure the backend is running on port 3001.'\n      };\n    }\n    return {\n      success: false,\n      error: error.message || 'Login failed. Please try again.'\n    };\n  }\n};\n\n/**\n * Register new user\n * @param {object} userData \n * @returns {Promise<{success: boolean, token?: string, user?: object, error?: string}>}\n */\nexport const register = async (userData) => {\n  try {\n    // Real API call only - no mock fallback\n    const response = await fetch(`${API_BASE_URL}/auth/register`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(userData)\n    });\n\n    // Handle network errors\n    if (!response.ok && response.status === 0) {\n      throw new Error('Cannot connect to backend server. Please ensure the backend is running on port 3001.');\n    }\n\n    const data = await response.json();\n\n    if (data.success && data.token) {\n      setToken(data.token);\n      return {\n        success: true,\n        token: data.token,\n        user: {\n          id: data.user.id,\n          email: data.user.email,\n          fullName: data.user.fullName,\n          teamName: data.user.teamName,\n          division: data.user.division,\n          offensiveSystem: data.user.offensiveSystem,\n          defensiveSystem: data.user.defensiveSystem\n        }\n      };\n    } else {\n      return {\n        success: false,\n        error: data.error || 'Registration failed. Please try again.'\n      };\n    }\n  } catch (error) {\n    // Check if it's a network error\n    if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError')) {\n      return {\n        success: false,\n        error: 'Cannot connect to backend server. Please ensure the backend is running on port 3001.'\n      };\n    }\n    return {\n      success: false,\n      error: error.message || 'Registration failed. Please try again.'\n    };\n  }\n};\n\n/**\n * Logout user\n */\nexport const logout = () => {\n  removeToken();\n  localStorage.removeItem('coachProfile');\n  localStorage.removeItem('coachingBias');\n  localStorage.removeItem('teamState');\n  localStorage.removeItem('playerProfiles');\n  localStorage.removeItem('recruitingState');\n};\n\n/**\n * Refresh token (if implementing refresh token flow)\n * Note: Token generation is handled by the backend API\n */\nexport const refreshToken = async () => {\n  try {\n    const token = getToken();\n    if (!token) {\n      throw new Error('No token to refresh');\n    }\n\n    // Token refresh should be handled by the backend API\n    // Uncomment and implement when backend refresh endpoint is available\n    const response = await fetch(`${API_BASE_URL}/auth/refresh`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n\n    if (!response.ok) {\n      throw new Error('Token refresh failed');\n    }\n\n    const data = await response.json();\n\n    if (data.success && data.token) {\n      setToken(data.token);\n      return {\n        success: true,\n        token: data.token\n      };\n    } else {\n      throw new Error(data.error || 'Token refresh failed');\n    }\n  } catch (error) {\n    // If refresh endpoint doesn't exist or fails, logout user\n    logout();\n    return {\n      success: false,\n      error: error.message || 'Token refresh not available. Please login again.'\n    };\n  }\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}