{"ast":null,"code":"import _objectSpread from\"/Users/muhammadfizantariq/Downloads/Knext_2/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{useNavigate,useLocation}from'react-router-dom';import{useApp}from'../context/AppContext';import{isAuthenticated}from'../services/authService';import CoachingIQDrawer from'../components/CoachingIQDrawer';import CoachKAssistant from'../components/CoachKAssistant';import Icon from'../components/Icon';import'./PlayerIQPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PlayerIQPage=()=>{var _scopeResult$sources,_evaluationResult$arc,_evaluationResult$bad,_evaluationResult$fla,_evaluationResult$mar;const navigate=useNavigate();const location=useLocation();const{coachProfile,coachingBias,addPlayerProfile,addToRoster,teamState,playerProfiles,coachKState,setCoachKState,addCoachKMessage}=useApp();const[fadeIn,setFadeIn]=useState(false);const[playerIQStage,setPlayerIQStage]=useState('entry');// entry, intro, scope, evaluation, decision, progress, transition\nconst[verifiedPlayersCount,setVerifiedPlayersCount]=useState(0);const[rosterMode,setRosterMode]=useState('demo');// demo, hybrid, live\nconst[searchMode,setSearchMode]=useState(true);const[showAdvancedFilters,setShowAdvancedFilters]=useState(false);const[searchData,setSearchData]=useState({playerName:'',school:'',classYear:'',position:'',hintTags:[],sources:{official:true,recruiting:true,media:true,social:true},regionBias:''});const[scopeResult,setScopeResult]=useState(null);const[evaluationResult,setEvaluationResult]=useState(null);const[loading,setLoading]=useState(false);const[showDrawer,setShowDrawer]=useState(false);const[coachNotes,setCoachNotes]=useState('');const[attachments,setAttachments]=useState([]);const[hasManuallyClosedCoachK,setHasManuallyClosedCoachK]=useState(()=>{return localStorage.getItem('playerIQ_coachK_closed')==='true';});const[hasManuallyClosedDrawer,setHasManuallyClosedDrawer]=useState(()=>{return localStorage.getItem('playerIQ_drawer_closed')==='true';});const isInitialMountRef=useRef(true);const prevCoachKOpenRef=useRef(coachKState.isOpen);const handleRunScope=async e=>{e.preventDefault();// Validate minimum 3 characters for player name\nif(searchData.playerName.trim().length<3){alert('Player name must be at least 3 characters');return;}setLoading(true);setPlayerIQStage('scope');// Stage 3: Lifeline Scope\naddCoachKMessage({id:'PIQ_STAGE3_1',speaker:'Coach K',message:'Scraping verified data sources...',type:'info'});console.log('[LOGIC HOOK: handleRunScope] Running Lifeline Scope with parameters:',searchData);// Simulate AI scraping with coaching bias applied\nsetTimeout(()=>{const nilBands=['Low','Baseline','Solid','High'];const nilReadiness=Math.floor(Math.random()*4);const confidence=Math.floor(Math.random()*20)+80;const mockResult={name:searchData.playerName,school:searchData.school||'Sample University',position:searchData.position||'Guard',autoDetectedPosition:searchData.position||'Guard',classYear:searchData.classYear||'Junior',confidence:confidence,image:null,nilReadiness:nilBands[nilReadiness],nilReadinessValue:nilReadiness+1,redFlags:[],redFlagsSummary:'None',eligibility:'Active',levelContext:'D2 Starter / D1 Rotation',sources:[{name:'Official Roster',agreement:true},{name:'247Sports',agreement:true},{name:'ESPN',agreement:true}],sourceAgreement:'âœ“âœ“âœ“'};console.log('[LOGIC HOOK: handleRunScope] Scope results:',mockResult);setScopeResult(mockResult);setSearchMode(false);setLoading(false);// Report Confidence % on completion\naddCoachKMessage({id:'PIQ_STAGE3_2',speaker:'Coach K',message:\"Confidence \".concat(mockResult.confidence,\"%. Ready to generate KPI and Fit Score?\"),type:'success'});},1500);};const handleAddHintTag=tag=>{if(!searchData.hintTags.includes(tag)){setSearchData(_objectSpread(_objectSpread({},searchData),{},{hintTags:[...searchData.hintTags,tag]}));}};const handleRemoveHintTag=tag=>{setSearchData(_objectSpread(_objectSpread({},searchData),{},{hintTags:searchData.hintTags.filter(t=>t!==tag)}));};const handleToggleSource=source=>{setSearchData(_objectSpread(_objectSpread({},searchData),{},{sources:_objectSpread(_objectSpread({},searchData.sources),{},{[source]:!searchData.sources[source]})}));};const handleSaveScopeOnly=()=>{if(scopeResult){const scopedRecord=_objectSpread(_objectSpread({},scopeResult),{},{status:'Scoped',notes:coachNotes,attachments:attachments});console.log('[LOGIC HOOK: Save Scope] Saving scoped record:',scopedRecord);alert('âœ… Scope saved successfully');}};const handleEditDisambiguation=()=>{setSearchMode(true);setScopeResult(null);};const handleRunEvaluation=()=>{setLoading(true);setPlayerIQStage('evaluation');// Stage 4: Full Evaluation\naddCoachKMessage({id:'PIQ_STAGE4_1',speaker:'Coach K',message:'Running Full Evaluation. Applying Confidence Gate thresholds and Coaching IQ bias...',type:'info'});console.log('[LOGIC HOOK: handleRunEvaluation] Running Full Evaluation for player:',scopeResult===null||scopeResult===void 0?void 0:scopeResult.name);setTimeout(()=>{var _scopeResult$classYea,_scopeResult$classYea2;const confidence=scopeResult.confidence;const finalKPI=parseFloat((Math.random()*20+70).toFixed(1));const fit=parseInt((Math.random()*20+70).toFixed(0));// Calculate Confidence Gate tier\nlet confidenceTier='Full Trust';let confidenceLabel='Full Trust';if(confidence<60){confidenceTier='Insufficient';confidenceLabel='Insufficient Sample';}else if(confidence<70){confidenceTier='Low';confidenceLabel='Low Confidence';}else if(confidence<80){confidenceTier='Limited';confidenceLabel='Limited';}else if(confidence<90){confidenceTier='Trusted';confidenceLabel='Trusted';}// Calculate financial values based on Coaching IQ bias\nconst scholarshipCap=(coachingBias===null||coachingBias===void 0?void 0:coachingBias.scholarshipCap)||12;const nilPool=(coachingBias===null||coachingBias===void 0?void 0:coachingBias.nilPool)||50000;const rosterSize=12;// Default, could come from teamState\nconst scholarshipSuggestion=Math.round(finalKPI/100*scholarshipCap*(10000/rosterSize));const nilValueSuggestion=Math.round((scopeResult.nilReadinessValue||5)*(confidence/100)*(nilPool/rosterSize));// Determine if Pro KPI should be shown\nconst showProKPI=confidence>=80&&(((_scopeResult$classYea=scopeResult.classYear)===null||_scopeResult$classYea===void 0?void 0:_scopeResult$classYea.includes('JR'))||((_scopeResult$classYea2=scopeResult.classYear)===null||_scopeResult$classYea2===void 0?void 0:_scopeResult$classYea2.includes('SR'))||scopeResult.classYear==='Pro');const evaluation=_objectSpread(_objectSpread({},scopeResult),{},{confidence:confidence,confidenceTier:confidenceTier,confidenceLabel:confidenceLabel,dataRecency:'Current Season',finalKPI:finalKPI,fit:fit,roleProjection:finalKPI>80?'Starter':finalKPI>70?'Rotation':'Depth',archetype:'Offensive Connector',archetypeTags:['Ball Handler','Spacing'],nilReadiness:scopeResult.nilReadinessValue||5,divisionPlacement:'NCAA D2 Starter / D1 Rotation',scholarshipSuggestion:scholarshipSuggestion,nilValueSuggestion:nilValueSuggestion,badges:confidence>=80?['ðŸ… Sniper','âš¡ High IQ']:['âš¡ High IQ'],flags:[],kpgLine:\"\".concat((finalKPI*0.2).toFixed(1),\" pts \\xB7 \").concat((finalKPI*0.06).toFixed(1),\" ast \\xB7 \").concat((finalKPI*0.03).toFixed(1),\" reb\"),overridesApplied:false,showProKPI:showProKPI,proKPI:showProKPI?parseFloat((finalKPI+5).toFixed(1)):null,proRoleProjection:showProKPI?'Connector Wing':null,proTierPlacement:showProKPI?'T2B':null,marketValueProjection:showProKPI?Math.round(finalKPI*15000):null,marketNotes:showProKPI?'Transferable skills, international comps available':null,timestamp:new Date().toISOString()});console.log('[LOGIC HOOK: handleRunEvaluation] Evaluation complete:',evaluation);setEvaluationResult(evaluation);setLoading(false);setPlayerIQStage('decision');// Stage 4: Evaluation Summary\nconst confidenceBandLabel=getConfidenceBandLabel(evaluation.confidence);addCoachKMessage({id:'PIQ_STAGE4_2',speaker:'Coach K',message:\"Evaluation complete \\u2014 Confidence \".concat(evaluation.confidence,\"%, Fit \").concat(evaluation.fit,\"%, \").concat(confidenceBandLabel,\". Recommended Scholarship: $\").concat(evaluation.scholarshipSuggestion.toLocaleString(),\" \\xB7 Projected NIL: $\").concat(evaluation.nilValueSuggestion.toLocaleString(),\".\"),type:'success'});// Stage 5: Decision prompt\nsetTimeout(()=>{addCoachKMessage({id:'PIQ_STAGE5_1',speaker:'Coach K',message:'Add to Recruiting IQâ„¢ or Team IQâ„¢?',type:'prompt'});},1000);},2000);};const handleSyncToTeamIQ=()=>{if(evaluationResult&&evaluationResult.confidence>=60){const playerProfile={id:Date.now().toString(),name:evaluationResult.name,team:evaluationResult.school,position:evaluationResult.position,confidence:evaluationResult.confidence,final_kpi:evaluationResult.finalKPI,fit:evaluationResult.fit,scholarship_suggestion:evaluationResult.scholarshipSuggestion,nil_value_suggestion:evaluationResult.nilValueSuggestion,bias_profile_id:(coachProfile===null||coachProfile===void 0?void 0:coachProfile.email)||'default',synced_to:['Team IQ'],status:'Synced',roster_source:'coach',timestamp:evaluationResult.timestamp};console.log('[LOGIC HOOK: Sync] Syncing player to Team IQ:',playerProfile);addPlayerProfile(playerProfile);addToRoster(playerProfile);// Stage 5: Sync confirmation\nconst newCount=verifiedPlayersCount+1;setPlayerIQStage('progress');// Show confirmation toast\nconst toast=document.createElement('div');toast.className='sync-toast';toast.textContent='âœ… Player Synced';document.body.appendChild(toast);setTimeout(()=>{toast.classList.add('show');setTimeout(()=>{toast.classList.remove('show');setTimeout(()=>document.body.removeChild(toast),300);},2000);},100);// Stage 6: Roster Progress\nsetTimeout(()=>{if(newCount<10){addCoachKMessage({id:'PIQ_STAGE6_1',speaker:'Coach K',message:\"Player synced. You now have \".concat(newCount,\" verified player\").concat(newCount!==1?'s':'',\" \\u2014 Team IQ\\u2122 preview available.\"),type:'success'});if(newCount>=4&&newCount<10){addCoachKMessage({id:'PIQ_STAGE6_2',speaker:'Coach K',message:'Mixing verified and benchmark players. Team IQâ„¢ unlocks after 10 verified players.',type:'info'});}}else{addCoachKMessage({id:'PIQ_STAGE6_3',speaker:'Coach K',message:'Roster complete â€” Team IQâ„¢ now fully live!',type:'success'});setPlayerIQStage('transition');}},500);handleReset();}};const handleSyncToRecruitingIQ=()=>{if(evaluationResult&&evaluationResult.confidence>=60){const playerProfile={id:Date.now().toString(),name:evaluationResult.name,team:evaluationResult.school,position:evaluationResult.position,confidence:evaluationResult.confidence,final_kpi:evaluationResult.finalKPI,fit:evaluationResult.fit,scholarship_suggestion:evaluationResult.scholarshipSuggestion,nil_value_suggestion:evaluationResult.nilValueSuggestion,bias_profile_id:(coachProfile===null||coachProfile===void 0?void 0:coachProfile.email)||'default',synced_to:['Recruiting IQ'],status:'Synced',roster_source:'coach',timestamp:evaluationResult.timestamp};console.log('[LOGIC HOOK: Sync] Syncing player to Recruiting IQ:',playerProfile);// Stage 5: Sync confirmation\nconst newCount=verifiedPlayersCount+1;setPlayerIQStage('progress');// Show confirmation toast\nconst toast=document.createElement('div');toast.className='sync-toast';toast.textContent='âœ… Player Synced';document.body.appendChild(toast);setTimeout(()=>{toast.classList.add('show');setTimeout(()=>{toast.classList.remove('show');setTimeout(()=>document.body.removeChild(toast),300);},2000);},100);// Stage 6: Roster Progress\nsetTimeout(()=>{if(newCount<10){addCoachKMessage({id:'PIQ_STAGE6_1',speaker:'Coach K',message:\"Player synced. You now have \".concat(newCount,\" verified player\").concat(newCount!==1?'s':'',\" \\u2014 Team IQ\\u2122 preview available.\"),type:'success'});}else{addCoachKMessage({id:'PIQ_STAGE6_3',speaker:'Coach K',message:'Roster complete â€” Team IQâ„¢ now fully live!',type:'success'});setPlayerIQStage('transition');}},500);handleReset();}};const getConfidenceBandLabel=confidence=>{if(confidence>=90)return'Full Trust';if(confidence>=80)return'Trusted';if(confidence>=70)return'Limited';if(confidence>=60)return'Low Confidence';return'Insufficient Sample';};const getConfidenceBandColor=confidence=>{if(confidence>=90)return'#D4AF37';if(confidence>=80)return'#D4AF37';if(confidence>=70)return'rgba(255, 255, 255, 0.7)';if(confidence>=60)return'#FF4D4D';return'#FF4D4D';};const handleReset=()=>{setSearchMode(true);setScopeResult(null);setEvaluationResult(null);setShowAdvancedFilters(false);setCoachNotes('');setAttachments([]);setSearchData({playerName:'',school:'',classYear:'',position:'',hintTags:[],sources:{official:true,recruiting:true,media:true,social:true},regionBias:''});};// Stock roster for demo mode\nconst stockRoster=[{id:'stock_1',name:'Stock PG',position:'PG',roster_source:'demo',confidence:85,final_kpi:75},{id:'stock_2',name:'Stock SG',position:'SG',roster_source:'demo',confidence:82,final_kpi:73},{id:'stock_3',name:'Stock SF',position:'SF',roster_source:'demo',confidence:80,final_kpi:71},{id:'stock_4',name:'Stock PF',position:'PF',roster_source:'demo',confidence:78,final_kpi:69},{id:'stock_5',name:'Stock C',position:'C',roster_source:'demo',confidence:76,final_kpi:67},{id:'stock_6',name:'Stock PG2',position:'PG',roster_source:'demo',confidence:74,final_kpi:65},{id:'stock_7',name:'Stock SG2',position:'SG',roster_source:'demo',confidence:72,final_kpi:63},{id:'stock_8',name:'Stock SF2',position:'SF',roster_source:'demo',confidence:70,final_kpi:61},{id:'stock_9',name:'Stock PF2',position:'PF',roster_source:'demo',confidence:68,final_kpi:59},{id:'stock_10',name:'Stock C2',position:'C',roster_source:'demo',confidence:66,final_kpi:57},{id:'stock_11',name:'Stock Bench1',position:'PG',roster_source:'demo',confidence:64,final_kpi:55},{id:'stock_12',name:'Stock Bench2',position:'SG',roster_source:'demo',confidence:62,final_kpi:53}];// Calculate verified players count and roster mode\nuseEffect(()=>{const verified=playerProfiles.filter(p=>p.confidence>=60&&p.roster_source!=='demo');const count=verified.length;setVerifiedPlayersCount(count);if(count===0){setRosterMode('demo');}else if(count<10){setRosterMode('hybrid');}else{setRosterMode('live');}},[playerProfiles]);// Track when Coach K is manually closed\nuseEffect(()=>{// If Coach K was open and is now closed, user manually closed it\nif(prevCoachKOpenRef.current===true&&coachKState.isOpen===false&&!coachKState.isMinimized){setHasManuallyClosedCoachK(true);localStorage.setItem('playerIQ_coachK_closed','true');}prevCoachKOpenRef.current=coachKState.isOpen;},[coachKState.isOpen,coachKState.isMinimized]);// Stage 1: Entry - Validate coaching_bias\nuseEffect(()=>{if(!isAuthenticated()||!coachProfile){navigate('/login');return;}// Fade-in animation on mount (150ms as per spec)\nsetTimeout(()=>setFadeIn(true),100);// Only auto-open on initial mount, not on every dependency change\nif(isInitialMountRef.current){isInitialMountRef.current=false;// Auto-open Coach K on PlayerIQ page ONLY if user hasn't manually closed it\nif(!hasManuallyClosedCoachK){setTimeout(()=>{setCoachKState(prev=>_objectSpread(_objectSpread({},prev),{},{isOpen:true,isMinimized:false}));},500);}// Stage 1: Entry validation\nif(!coachingBias){setPlayerIQStage('entry');// Only auto-open drawer if user hasn't manually closed it\nif(!hasManuallyClosedDrawer){setTimeout(()=>{addCoachKMessage({id:'PIQ_STAGE1_1',speaker:'Coach K',message:'Set Coaching IQ to continue. Opening Coaching IQ drawer...',type:'warning'});setTimeout(()=>{setShowDrawer(true);const event=new CustomEvent('openCoachingIQDrawer');window.dispatchEvent(event);},500);},600);}}else{// Check if first-time user\nconst hasPlayers=playerProfiles.filter(p=>p.roster_source!=='demo').length>0;if(!hasPlayers&&!hasManuallyClosedCoachK){setPlayerIQStage('intro');setTimeout(()=>{addCoachKMessage({id:'PIQ_STAGE1_2',speaker:'Coach K',message:'Start by evaluating your first player. Use the search form above to begin.',type:'info'});},600);}else{setPlayerIQStage('ready');}}}// Listen for Coaching IQ drawer open event\nconst handleOpenDrawer=()=>{setShowDrawer(true);};window.addEventListener('openCoachingIQDrawer',handleOpenDrawer);return()=>{window.removeEventListener('openCoachingIQDrawer',handleOpenDrawer);};},[coachProfile,navigate,setCoachKState,hasManuallyClosedCoachK,hasManuallyClosedDrawer]);// Monitor coachingBias changes (only for stage transitions, not auto-opening)\nuseEffect(()=>{if(coachingBias&&playerIQStage==='entry'){setPlayerIQStage('intro');if(!hasManuallyClosedCoachK){addCoachKMessage({id:'PIQ_STAGE1_3',speaker:'Coach K',message:'Great! Your Coaching IQ is set. Now let\\'s evaluate your first player.',type:'success'});}}},[coachingBias,playerIQStage,addCoachKMessage,hasManuallyClosedCoachK]);const isActiveRoute=path=>{// Only highlight if we're actually on that route\nreturn location.pathname===path||location.pathname.startsWith(path+'/');};const handleOpenCoachingIQ=()=>{if(!coachingBias){const event=new CustomEvent('openCoachingIQDrawer');window.dispatchEvent(event);setShowDrawer(true);}else{setShowDrawer(true);}};if(!isAuthenticated()||!coachProfile){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"player-iq-page \".concat(fadeIn?'fade-in':''),children:[/*#__PURE__*/_jsxs(\"header\",{className:\"player-iq-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-left\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"header-title\",children:\"PLAYER IQ\\u2122 EVALUATOR\"}),/*#__PURE__*/_jsx(\"p\",{className:\"subtitle\",children:\"Run Lifeline Scope and Full Evaluation on any player.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"context-line\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Team: \",(coachProfile===null||coachProfile===void 0?void 0:coachProfile.team)||'Not Set']}),/*#__PURE__*/_jsx(\"span\",{className:\"context-divider\",children:\"\\xB7\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Offense: \",(coachingBias===null||coachingBias===void 0?void 0:coachingBias.offensiveSystem)||(coachProfile===null||coachProfile===void 0?void 0:coachProfile.offense)||'Not Set']}),/*#__PURE__*/_jsx(\"span\",{className:\"context-divider\",children:\"\\xB7\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Defense: \",(coachingBias===null||coachingBias===void 0?void 0:coachingBias.defensiveSystem)||(coachProfile===null||coachProfile===void 0?void 0:coachProfile.defense)||'Not Set']}),/*#__PURE__*/_jsx(\"span\",{className:\"context-divider\",children:\"\\xB7\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Division: \",(coachProfile===null||coachProfile===void 0?void 0:coachProfile.division)||'Not Set']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"coaching-iq-chip \".concat(coachingBias?'active':'incomplete'),onClick:handleOpenCoachingIQ,title:coachingBias?\"Coaching IQ Active\":\"Set Up Required - Click to configure\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"chip-icon\",children:\"\\uD83E\\uDDE0\"}),/*#__PURE__*/_jsx(\"span\",{className:\"chip-text\",children:coachingBias?'Coaching IQ Active':'Set Up Required'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-right\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"nav-btn \".concat(isActiveRoute('/team-iq')?'active':''),onClick:()=>navigate('/team-iq'),title:\"Team IQ\\u2122\",children:[/*#__PURE__*/_jsx(Icon,{name:\"team\",size:16}),/*#__PURE__*/_jsx(\"span\",{children:\"Team IQ\\u2122\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"nav-btn \".concat(isActiveRoute('/recruiting-iq')?'active':''),onClick:()=>navigate('/recruiting-iq'),title:\"Recruiting IQ\\u2122\",children:[/*#__PURE__*/_jsx(Icon,{name:\"clipboard\",size:16}),/*#__PURE__*/_jsx(\"span\",{children:\"Recruiting IQ\\u2122\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"nav-btn \".concat(isActiveRoute('/office')?'active':''),onClick:()=>navigate('/office'),title:\"Return to Office\",children:[/*#__PURE__*/_jsx(Icon,{name:\"home\",size:16}),/*#__PURE__*/_jsx(\"span\",{children:\"Return to Office\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"roster-progress-bar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"progress-header\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"progress-label\",children:[\"\\uD83D\\uDCCA Verified Players: \",verifiedPlayersCount,\"/10\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"roster-mode-badge\",children:rosterMode==='demo'?'Demo Mode':rosterMode==='hybrid'?'Hybrid Mode':'Live Mode'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar-fill\",style:{width:\"\".concat(Math.min(verifiedPlayersCount/10*100,100),\"%\")}})}),verifiedPlayersCount<10&&/*#__PURE__*/_jsx(\"p\",{className:\"progress-note\",children:verifiedPlayersCount===0?'Demo mode active â€” evaluate players to personalize results.':verifiedPlayersCount<4?'Demo mode active â€” evaluate players to personalize results.':'Mixing verified and benchmark players. Team IQâ„¢ unlocks after 10 verified players.'}),verifiedPlayersCount>=10&&/*#__PURE__*/_jsx(\"p\",{className:\"progress-note success\",children:\"Roster complete \\u2014 Team IQ\\u2122 now fully live!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"player-iq-content\",children:[searchMode&&!scopeResult&&/*#__PURE__*/_jsxs(\"div\",{className:\"search-card \".concat(loading?'fade-out':''),children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Lifeline Scope\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRunScope,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Player Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Minimum 3 characters\",value:searchData.playerName,onChange:e=>setSearchData(_objectSpread(_objectSpread({},searchData),{},{playerName:e.target.value})),minLength:3,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Program / School (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Improves accuracy of scrape\",value:searchData.school,onChange:e=>setSearchData(_objectSpread(_objectSpread({},searchData),{},{school:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Class / Year (optional)\"}),/*#__PURE__*/_jsxs(\"select\",{value:searchData.classYear,onChange:e=>setSearchData(_objectSpread(_objectSpread({},searchData),{},{classYear:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Class\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HS FR\",children:\"HS Freshman\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HS SO\",children:\"HS Sophomore\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HS JR\",children:\"HS Junior\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HS SR\",children:\"HS Senior\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Prep\",children:\"Prep\"}),/*#__PURE__*/_jsx(\"option\",{value:\"FR\",children:\"College Freshman\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SO\",children:\"College Sophomore\"}),/*#__PURE__*/_jsx(\"option\",{value:\"JR\",children:\"College Junior\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SR\",children:\"College Senior\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pro\",children:\"Pro\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Hint Tags (optional)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"hint-tags-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Position, city, state, team nickname\",onKeyPress:e=>{if(e.key==='Enter'&&e.target.value.trim()){e.preventDefault();handleAddHintTag(e.target.value.trim());e.target.value='';}}}),/*#__PURE__*/_jsx(\"div\",{className:\"hint-tags-list\",children:searchData.hintTags.map((tag,idx)=>/*#__PURE__*/_jsxs(\"span\",{className:\"hint-tag\",children:[tag,/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleRemoveHintTag(tag),children:\"\\xD7\"})]},idx))})]})]}),showAdvancedFilters&&/*#__PURE__*/_jsxs(\"div\",{className:\"advanced-filters\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Source Controls\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"source-toggles\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"toggle-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:searchData.sources.official,onChange:()=>handleToggleSource('official')}),/*#__PURE__*/_jsx(\"span\",{children:\"Official Sites\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"toggle-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:searchData.sources.recruiting,onChange:()=>handleToggleSource('recruiting')}),/*#__PURE__*/_jsx(\"span\",{children:\"Recruiting Services\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"toggle-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:searchData.sources.media,onChange:()=>handleToggleSource('media')}),/*#__PURE__*/_jsx(\"span\",{children:\"Media\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"toggle-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:searchData.sources.social,onChange:()=>handleToggleSource('social')}),/*#__PURE__*/_jsx(\"span\",{children:\"Social / Video\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Region Bias (optional)\"}),/*#__PURE__*/_jsxs(\"select\",{value:searchData.regionBias,onChange:e=>setSearchData(_objectSpread(_objectSpread({},searchData),{},{regionBias:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Region\"}),/*#__PURE__*/_jsx(\"option\",{value:\"US\",children:\"United States\"}),/*#__PURE__*/_jsx(\"option\",{value:\"CA\",children:\"Canada\"}),/*#__PURE__*/_jsx(\"option\",{value:\"International\",children:\"International\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"primary-btn\",disabled:loading||searchData.playerName.length<3,children:loading?'Running Scope...':'Run Lifeline Scope'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"secondary-btn\",onClick:()=>setShowAdvancedFilters(!showAdvancedFilters),children:showAdvancedFilters?'Hide':'Advanced Filters'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"secondary-btn\",onClick:handleReset,children:\"Clear\"})]})]})]}),scopeResult&&!evaluationResult&&/*#__PURE__*/_jsxs(\"div\",{className:\"scope-results slide-up\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Lifeline Scope Results\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"scope-results-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"scope-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"confidence-section\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Confidence %\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"confidence-value\",children:[scopeResult.confidence,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar \".concat(scopeResult.confidence<70?'low':''),children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:\"\".concat(scopeResult.confidence,\"%\")}})}),/*#__PURE__*/_jsx(\"p\",{className:\"confidence-note\",children:\"Derived from cross-source agreement + sample size\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Auto-Detected Position\"}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-value\",children:scopeResult.autoDetectedPosition||scopeResult.position}),/*#__PURE__*/_jsx(\"p\",{className:\"metric-note\",children:\"System-weighted role (bias-adjusted)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Eligibility Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-value eligibility-\".concat(scopeResult.eligibility.toLowerCase()),children:scopeResult.eligibility})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"NIL Readiness Band\"}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-value nil-\".concat(scopeResult.nilReadiness.toLowerCase()),children:scopeResult.nilReadiness})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Red Flags Summary\"}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-value\",children:scopeResult.redFlagsSummary||'None'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Level Context\"}),/*#__PURE__*/_jsx(\"div\",{className:\"metric-value\",children:scopeResult.levelContext})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"scope-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"identity-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"player-avatar-large\",children:scopeResult.image?/*#__PURE__*/_jsx(\"img\",{src:scopeResult.image,alt:scopeResult.name}):/*#__PURE__*/_jsx(\"span\",{children:scopeResult.name.charAt(0)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"player-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:scopeResult.name}),/*#__PURE__*/_jsx(\"p\",{children:scopeResult.school||'Program Not Specified'}),/*#__PURE__*/_jsx(\"p\",{children:scopeResult.classYear||'Class Not Specified'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"source-preview\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Source Preview\"}),/*#__PURE__*/_jsx(\"div\",{className:\"source-agreement\",children:scopeResult.sourceAgreement||'âœ“âœ“âœ“'}),/*#__PURE__*/_jsx(\"div\",{className:\"sources-list\",children:(_scopeResult$sources=scopeResult.sources)===null||_scopeResult$sources===void 0?void 0:_scopeResult$sources.map((source,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"source-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"source-name\",children:source.name}),/*#__PURE__*/_jsx(\"span\",{className:\"source-check\",children:source.agreement?'âœ“':'â—‹'})]},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"coach-notes-section\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Coach Notes (optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:coachNotes,onChange:e=>setCoachNotes(e.target.value),placeholder:\"Store notes to player_profile.notes\",rows:3})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"attachments-section\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Attachments (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,accept:\"image/*,application/pdf\",onChange:e=>{const files=Array.from(e.target.files);setAttachments([...attachments,...files]);}}),attachments.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"attachments-list\",children:attachments.map((file,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"attachment-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:file.name}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setAttachments(attachments.filter((_,i)=>i!==idx)),children:\"\\xD7\"})]},idx))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"scope-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:handleEditDisambiguation,children:\"Edit Disambiguation\"}),/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:handleSaveScopeOnly,children:\"Save Scope Only\"}),/*#__PURE__*/_jsx(\"button\",{className:\"primary-btn\",onClick:handleRunEvaluation,disabled:loading,children:loading?'Evaluating...':'Run Full Evaluation'})]})]}),evaluationResult&&/*#__PURE__*/_jsxs(\"div\",{className:\"evaluation-results fade-in\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"evaluation-header-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"header-player-name\",children:evaluationResult.name}),/*#__PURE__*/_jsx(\"span\",{className:\"header-divider\",children:\"\\xB7\"}),/*#__PURE__*/_jsx(\"span\",{className:\"header-program\",children:evaluationResult.school||'Program Not Specified'}),/*#__PURE__*/_jsx(\"span\",{className:\"header-divider\",children:\"\\xB7\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"header-confidence\",children:[\"Confidence: \",evaluationResult.confidence,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"confidence-gate-module\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Confidence Gate Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"confidence-gate-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"confidence-gate-main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"confidence-display\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Confidence %\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"confidence-value-large\",style:{color:getConfidenceBandColor(evaluationResult.confidence)},children:[evaluationResult.confidence,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"confidence-band \".concat(evaluationResult.confidenceTier.toLowerCase()),children:evaluationResult.confidenceLabel}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar \".concat(evaluationResult.confidence<70?'low':''),children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:\"\".concat(evaluationResult.confidence,\"%\"),backgroundColor:getConfidenceBandColor(evaluationResult.confidence)}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"confidence-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Data Recency\"}),/*#__PURE__*/_jsx(\"div\",{className:\"detail-value\",children:evaluationResult.dataRecency})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Threshold Band\"}),/*#__PURE__*/_jsx(\"div\",{className:\"detail-value\",children:getConfidenceBandLabel(evaluationResult.confidence)})]})]})]}),evaluationResult.confidence<60&&/*#__PURE__*/_jsxs(\"div\",{className:\"flag-notice insufficient\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flag-icon\",children:\"\\u26A0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Insufficient Sample \\u2014 Evaluation Limited.\"})]}),evaluationResult.confidence>=60&&evaluationResult.confidence<70&&/*#__PURE__*/_jsxs(\"div\",{className:\"flag-notice low\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flag-icon\",children:\"\\u26A0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Low Confidence \\u2014 KPI outputs restricted.\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-report-module\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Final KPI Report\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-report-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"kpi-report-header\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"College KPI Report\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-main-display\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"kpi-score-large\",children:evaluationResult.finalKPI}),/*#__PURE__*/_jsx(\"div\",{className:\"kpi-label-large\",children:\"Final KPI\"}),/*#__PURE__*/_jsx(\"p\",{className:\"kpi-description\",children:\"Weighted composite (traits \\xD7 bias \\xD7 confidence)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-details-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Role Projection\"}),/*#__PURE__*/_jsx(\"div\",{className:\"kpi-detail-value\",children:evaluationResult.roleProjection}),/*#__PURE__*/_jsx(\"p\",{className:\"kpi-detail-note\",children:\"Based on division percentile\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Archetype & Tags\"}),/*#__PURE__*/_jsx(\"div\",{className:\"kpi-detail-value\",children:evaluationResult.archetype}),/*#__PURE__*/_jsx(\"div\",{className:\"archetype-tags\",children:(_evaluationResult$arc=evaluationResult.archetypeTags)===null||_evaluationResult$arc===void 0?void 0:_evaluationResult$arc.map((tag,i)=>/*#__PURE__*/_jsx(\"span\",{className:\"archetype-tag\",children:tag},i))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"NIL Readiness\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-detail-value\",children:[evaluationResult.nilReadiness,\"/10\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"kpi-detail-note\",children:\"Banded score from verified exposure\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Division Placement\"}),/*#__PURE__*/_jsx(\"div\",{className:\"kpi-detail-value\",children:evaluationResult.divisionPlacement})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Fit %\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-detail-value\",children:[evaluationResult.fit,\"%\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"kpi-detail-note\",children:\"System alignment strength\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Badges / Flags\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"badges-list\",children:[(_evaluationResult$bad=evaluationResult.badges)===null||_evaluationResult$bad===void 0?void 0:_evaluationResult$bad.map((badge,i)=>/*#__PURE__*/_jsx(\"span\",{className:\"badge\",children:badge},i)),((_evaluationResult$fla=evaluationResult.flags)===null||_evaluationResult$fla===void 0?void 0:_evaluationResult$fla.length)===0&&/*#__PURE__*/_jsx(\"span\",{className:\"no-flags\",children:\"No flags\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"financial-recommendations\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Financial Recommendations\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"financial-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"financial-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"financial-icon\",children:\"\\uD83D\\uDCB0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"financial-content\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Scholarship Suggestion ($)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"financial-amount\",children:[\"$\",evaluationResult.scholarshipSuggestion.toLocaleString()]}),/*#__PURE__*/_jsx(\"p\",{className:\"financial-note\",children:\"KPI percentile \\xD7 Scholarship Cap \\xF7 Roster Size\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"financial-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"financial-icon\",children:\"\\uD83D\\uDCB5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"financial-content\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"NIL Value Suggestion ($)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"financial-amount\",children:[\"$\",evaluationResult.nilValueSuggestion.toLocaleString()]}),/*#__PURE__*/_jsx(\"p\",{className:\"financial-note\",children:\"NIL Readiness \\xD7 Confidence \\xD7 (NIL Pool \\xF7 Roster Size)\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpg-line-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"KPG\\u2122 Line\"}),/*#__PURE__*/_jsx(\"p\",{className:\"kpg-line\",children:evaluationResult.kpgLine}),/*#__PURE__*/_jsx(\"p\",{className:\"kpg-note\",children:\"Pace-adjusted KaNeXT Per Game line, calibrated to division baseline\"})]}),evaluationResult.overridesApplied&&/*#__PURE__*/_jsxs(\"div\",{className:\"overrides-section\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Overrides Applied\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Manual KPI adjustments made by coach\"})]})]}),evaluationResult.showProKPI&&/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-report-card pro-kpi\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-report-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Pro KPI Report\"}),/*#__PURE__*/_jsx(\"span\",{className:\"pro-badge\",children:\"Pro\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-main-display\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"kpi-score-large\",children:evaluationResult.proKPI}),/*#__PURE__*/_jsx(\"div\",{className:\"kpi-label-large\",children:\"Final KPI (Pro)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"kpi-description\",children:\"College KPI + professional-level adjustment curve\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-details-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Role Projection\"}),/*#__PURE__*/_jsx(\"div\",{className:\"kpi-detail-value\",children:evaluationResult.proRoleProjection})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pro Tier Placement\"}),/*#__PURE__*/_jsx(\"div\",{className:\"kpi-detail-value\",children:evaluationResult.proTierPlacement}),/*#__PURE__*/_jsx(\"p\",{className:\"kpi-detail-note\",children:\"Market grid tier (T1A\\u2013T4C)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Market Value Projection ($)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-detail-value\",children:[\"$\",(_evaluationResult$mar=evaluationResult.marketValueProjection)===null||_evaluationResult$mar===void 0?void 0:_evaluationResult$mar.toLocaleString()]}),/*#__PURE__*/_jsx(\"p\",{className:\"kpi-detail-note\",children:\"Derived from pro comps and international agent data\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Market Notes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"kpi-detail-value\",children:evaluationResult.marketNotes})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"decision-sync-module\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Decision & Sync\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"decision-panel-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"decision-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Next Step: Decision & Sync\"}),/*#__PURE__*/_jsx(\"p\",{className:\"decision-instructions\",children:\"Select where to send this evaluation.\"})]}),evaluationResult.confidence<60?/*#__PURE__*/_jsxs(\"div\",{className:\"status-banner disabled\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"status-icon\",children:\"\\u26A0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Disabled \\u2014 Confidence below 60%\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"status-banner active\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"status-icon\",children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Ready to Sync\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"financial-snapshot\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Financial Snapshot\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"snapshot-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"snapshot-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Scholarship\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"snapshot-value\",children:[\"$\",evaluationResult.scholarshipSuggestion.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"snapshot-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"NIL Value\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"snapshot-value\",children:[\"$\",evaluationResult.nilValueSuggestion.toLocaleString()]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"decision-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:handleReset,children:\"New Evaluation\"}),/*#__PURE__*/_jsx(\"button\",{className:\"primary-btn \".concat(evaluationResult.confidence<60?'disabled':''),onClick:handleSyncToRecruitingIQ,disabled:evaluationResult.confidence<60,children:\"Add to Recruiting IQ\\u2122\"}),/*#__PURE__*/_jsx(\"button\",{className:\"primary-btn \".concat(evaluationResult.confidence<60?'disabled':''),onClick:handleSyncToTeamIQ,disabled:evaluationResult.confidence<60,children:\"Add to Team IQ\\u2122\"})]})]})]})]})]}),/*#__PURE__*/_jsx(CoachingIQDrawer,{isOpen:showDrawer,onClose:()=>{setShowDrawer(false);// Track that user manually closed the drawer\nsetHasManuallyClosedDrawer(true);localStorage.setItem('playerIQ_drawer_closed','true');}}),/*#__PURE__*/_jsx(CoachKAssistant,{})]});};export default PlayerIQPage;","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","useLocation","useApp","isAuthenticated","CoachingIQDrawer","CoachKAssistant","Icon","jsx","_jsx","jsxs","_jsxs","PlayerIQPage","_scopeResult$sources","_evaluationResult$arc","_evaluationResult$bad","_evaluationResult$fla","_evaluationResult$mar","navigate","location","coachProfile","coachingBias","addPlayerProfile","addToRoster","teamState","playerProfiles","coachKState","setCoachKState","addCoachKMessage","fadeIn","setFadeIn","playerIQStage","setPlayerIQStage","verifiedPlayersCount","setVerifiedPlayersCount","rosterMode","setRosterMode","searchMode","setSearchMode","showAdvancedFilters","setShowAdvancedFilters","searchData","setSearchData","playerName","school","classYear","position","hintTags","sources","official","recruiting","media","social","regionBias","scopeResult","setScopeResult","evaluationResult","setEvaluationResult","loading","setLoading","showDrawer","setShowDrawer","coachNotes","setCoachNotes","attachments","setAttachments","hasManuallyClosedCoachK","setHasManuallyClosedCoachK","localStorage","getItem","hasManuallyClosedDrawer","setHasManuallyClosedDrawer","isInitialMountRef","prevCoachKOpenRef","isOpen","handleRunScope","e","preventDefault","trim","length","alert","id","speaker","message","type","console","log","setTimeout","nilBands","nilReadiness","Math","floor","random","confidence","mockResult","name","autoDetectedPosition","image","nilReadinessValue","redFlags","redFlagsSummary","eligibility","levelContext","agreement","sourceAgreement","concat","handleAddHintTag","tag","includes","_objectSpread","handleRemoveHintTag","filter","t","handleToggleSource","source","handleSaveScopeOnly","scopedRecord","status","notes","handleEditDisambiguation","handleRunEvaluation","_scopeResult$classYea","_scopeResult$classYea2","finalKPI","parseFloat","toFixed","fit","parseInt","confidenceTier","confidenceLabel","scholarshipCap","nilPool","rosterSize","scholarshipSuggestion","round","nilValueSuggestion","showProKPI","evaluation","dataRecency","roleProjection","archetype","archetypeTags","divisionPlacement","badges","flags","kpgLine","overridesApplied","proKPI","proRoleProjection","proTierPlacement","marketValueProjection","marketNotes","timestamp","Date","toISOString","confidenceBandLabel","getConfidenceBandLabel","toLocaleString","handleSyncToTeamIQ","playerProfile","now","toString","team","final_kpi","scholarship_suggestion","nil_value_suggestion","bias_profile_id","email","synced_to","roster_source","newCount","toast","document","createElement","className","textContent","body","appendChild","classList","add","remove","removeChild","handleReset","handleSyncToRecruitingIQ","getConfidenceBandColor","stockRoster","verified","p","count","current","isMinimized","setItem","prev","event","CustomEvent","window","dispatchEvent","hasPlayers","handleOpenDrawer","addEventListener","removeEventListener","isActiveRoute","path","pathname","startsWith","handleOpenCoachingIQ","children","offensiveSystem","offense","defensiveSystem","defense","division","onClick","title","size","style","width","min","onSubmit","placeholder","value","onChange","target","minLength","required","onKeyPress","key","map","idx","checked","disabled","toLowerCase","src","alt","charAt","rows","multiple","accept","files","Array","from","file","_","i","color","backgroundColor","badge","onClose"],"sources":["/Users/muhammadfizantariq/Downloads/Knext_2/frontend/src/pages/PlayerIQPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useApp } from '../context/AppContext';\nimport { isAuthenticated } from '../services/authService';\nimport CoachingIQDrawer from '../components/CoachingIQDrawer';\nimport CoachKAssistant from '../components/CoachKAssistant';\nimport Icon from '../components/Icon';\nimport './PlayerIQPage.css';\n\nconst PlayerIQPage = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { coachProfile, coachingBias, addPlayerProfile, addToRoster, teamState, playerProfiles, coachKState, setCoachKState, addCoachKMessage } = useApp();\n  const [fadeIn, setFadeIn] = useState(false);\n  const [playerIQStage, setPlayerIQStage] = useState('entry'); // entry, intro, scope, evaluation, decision, progress, transition\n  const [verifiedPlayersCount, setVerifiedPlayersCount] = useState(0);\n  const [rosterMode, setRosterMode] = useState('demo'); // demo, hybrid, live\n  \n  const [searchMode, setSearchMode] = useState(true);\n  const [showAdvancedFilters, setShowAdvancedFilters] = useState(false);\n  const [searchData, setSearchData] = useState({\n    playerName: '',\n    school: '',\n    classYear: '',\n    position: '',\n    hintTags: [],\n    sources: {\n      official: true,\n      recruiting: true,\n      media: true,\n      social: true\n    },\n    regionBias: ''\n  });\n\n  const [scopeResult, setScopeResult] = useState(null);\n  const [evaluationResult, setEvaluationResult] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [showDrawer, setShowDrawer] = useState(false);\n  const [coachNotes, setCoachNotes] = useState('');\n  const [attachments, setAttachments] = useState([]);\n  const [hasManuallyClosedCoachK, setHasManuallyClosedCoachK] = useState(() => {\n    return localStorage.getItem('playerIQ_coachK_closed') === 'true';\n  });\n  const [hasManuallyClosedDrawer, setHasManuallyClosedDrawer] = useState(() => {\n    return localStorage.getItem('playerIQ_drawer_closed') === 'true';\n  });\n  const isInitialMountRef = useRef(true);\n  const prevCoachKOpenRef = useRef(coachKState.isOpen);\n\n  const handleRunScope = async (e) => {\n    e.preventDefault();\n    \n    // Validate minimum 3 characters for player name\n    if (searchData.playerName.trim().length < 3) {\n      alert('Player name must be at least 3 characters');\n      return;\n    }\n\n    setLoading(true);\n    setPlayerIQStage('scope');\n\n    // Stage 3: Lifeline Scope\n    addCoachKMessage({\n      id: 'PIQ_STAGE3_1',\n      speaker: 'Coach K',\n      message: 'Scraping verified data sources...',\n      type: 'info'\n    });\n\n    console.log('[LOGIC HOOK: handleRunScope] Running Lifeline Scope with parameters:', searchData);\n\n    // Simulate AI scraping with coaching bias applied\n    setTimeout(() => {\n      const nilBands = ['Low', 'Baseline', 'Solid', 'High'];\n      const nilReadiness = Math.floor(Math.random() * 4);\n      const confidence = Math.floor(Math.random() * 20) + 80;\n      \n      const mockResult = {\n        name: searchData.playerName,\n        school: searchData.school || 'Sample University',\n        position: searchData.position || 'Guard',\n        autoDetectedPosition: searchData.position || 'Guard',\n        classYear: searchData.classYear || 'Junior',\n        confidence: confidence,\n        image: null,\n        nilReadiness: nilBands[nilReadiness],\n        nilReadinessValue: nilReadiness + 1,\n        redFlags: [],\n        redFlagsSummary: 'None',\n        eligibility: 'Active',\n        levelContext: 'D2 Starter / D1 Rotation',\n        sources: [\n          { name: 'Official Roster', agreement: true },\n          { name: '247Sports', agreement: true },\n          { name: 'ESPN', agreement: true }\n        ],\n        sourceAgreement: 'âœ“âœ“âœ“'\n      };\n\n      console.log('[LOGIC HOOK: handleRunScope] Scope results:', mockResult);\n      setScopeResult(mockResult);\n      setSearchMode(false);\n      setLoading(false);\n\n      // Report Confidence % on completion\n      addCoachKMessage({\n        id: 'PIQ_STAGE3_2',\n        speaker: 'Coach K',\n        message: `Confidence ${mockResult.confidence}%. Ready to generate KPI and Fit Score?`,\n        type: 'success'\n      });\n    }, 1500);\n  };\n\n  const handleAddHintTag = (tag) => {\n    if (!searchData.hintTags.includes(tag)) {\n      setSearchData({\n        ...searchData,\n        hintTags: [...searchData.hintTags, tag]\n      });\n    }\n  };\n\n  const handleRemoveHintTag = (tag) => {\n    setSearchData({\n      ...searchData,\n      hintTags: searchData.hintTags.filter(t => t !== tag)\n    });\n  };\n\n  const handleToggleSource = (source) => {\n    setSearchData({\n      ...searchData,\n      sources: {\n        ...searchData.sources,\n        [source]: !searchData.sources[source]\n      }\n    });\n  };\n\n  const handleSaveScopeOnly = () => {\n    if (scopeResult) {\n      const scopedRecord = {\n        ...scopeResult,\n        status: 'Scoped',\n        notes: coachNotes,\n        attachments: attachments\n      };\n      console.log('[LOGIC HOOK: Save Scope] Saving scoped record:', scopedRecord);\n      alert('âœ… Scope saved successfully');\n    }\n  };\n\n  const handleEditDisambiguation = () => {\n    setSearchMode(true);\n    setScopeResult(null);\n  };\n\n  const handleRunEvaluation = () => {\n    setLoading(true);\n    setPlayerIQStage('evaluation');\n\n    // Stage 4: Full Evaluation\n    addCoachKMessage({\n      id: 'PIQ_STAGE4_1',\n      speaker: 'Coach K',\n      message: 'Running Full Evaluation. Applying Confidence Gate thresholds and Coaching IQ bias...',\n      type: 'info'\n    });\n\n    console.log('[LOGIC HOOK: handleRunEvaluation] Running Full Evaluation for player:', scopeResult?.name);\n\n    setTimeout(() => {\n      const confidence = scopeResult.confidence;\n      const finalKPI = parseFloat((Math.random() * 20 + 70).toFixed(1));\n      const fit = parseInt((Math.random() * 20 + 70).toFixed(0));\n      \n      // Calculate Confidence Gate tier\n      let confidenceTier = 'Full Trust';\n      let confidenceLabel = 'Full Trust';\n      if (confidence < 60) {\n        confidenceTier = 'Insufficient';\n        confidenceLabel = 'Insufficient Sample';\n      } else if (confidence < 70) {\n        confidenceTier = 'Low';\n        confidenceLabel = 'Low Confidence';\n      } else if (confidence < 80) {\n        confidenceTier = 'Limited';\n        confidenceLabel = 'Limited';\n      } else if (confidence < 90) {\n        confidenceTier = 'Trusted';\n        confidenceLabel = 'Trusted';\n      }\n\n      // Calculate financial values based on Coaching IQ bias\n      const scholarshipCap = coachingBias?.scholarshipCap || 12;\n      const nilPool = coachingBias?.nilPool || 50000;\n      const rosterSize = 12; // Default, could come from teamState\n      \n      const scholarshipSuggestion = Math.round((finalKPI / 100) * scholarshipCap * (10000 / rosterSize));\n      const nilValueSuggestion = Math.round((scopeResult.nilReadinessValue || 5) * (confidence / 100) * (nilPool / rosterSize));\n\n      // Determine if Pro KPI should be shown\n      const showProKPI = confidence >= 80 && (scopeResult.classYear?.includes('JR') || scopeResult.classYear?.includes('SR') || scopeResult.classYear === 'Pro');\n      \n      const evaluation = {\n        ...scopeResult,\n        confidence: confidence,\n        confidenceTier: confidenceTier,\n        confidenceLabel: confidenceLabel,\n        dataRecency: 'Current Season',\n        finalKPI: finalKPI,\n        fit: fit,\n        roleProjection: finalKPI > 80 ? 'Starter' : finalKPI > 70 ? 'Rotation' : 'Depth',\n        archetype: 'Offensive Connector',\n        archetypeTags: ['Ball Handler', 'Spacing'],\n        nilReadiness: scopeResult.nilReadinessValue || 5,\n        divisionPlacement: 'NCAA D2 Starter / D1 Rotation',\n        scholarshipSuggestion: scholarshipSuggestion,\n        nilValueSuggestion: nilValueSuggestion,\n        badges: confidence >= 80 ? ['ðŸ… Sniper', 'âš¡ High IQ'] : ['âš¡ High IQ'],\n        flags: [],\n        kpgLine: `${(finalKPI * 0.2).toFixed(1)} pts Â· ${(finalKPI * 0.06).toFixed(1)} ast Â· ${(finalKPI * 0.03).toFixed(1)} reb`,\n        overridesApplied: false,\n        showProKPI: showProKPI,\n        proKPI: showProKPI ? parseFloat((finalKPI + 5).toFixed(1)) : null,\n        proRoleProjection: showProKPI ? 'Connector Wing' : null,\n        proTierPlacement: showProKPI ? 'T2B' : null,\n        marketValueProjection: showProKPI ? Math.round(finalKPI * 15000) : null,\n        marketNotes: showProKPI ? 'Transferable skills, international comps available' : null,\n        timestamp: new Date().toISOString()\n      };\n\n      console.log('[LOGIC HOOK: handleRunEvaluation] Evaluation complete:', evaluation);\n      setEvaluationResult(evaluation);\n      setLoading(false);\n      setPlayerIQStage('decision');\n\n      // Stage 4: Evaluation Summary\n      const confidenceBandLabel = getConfidenceBandLabel(evaluation.confidence);\n      addCoachKMessage({\n        id: 'PIQ_STAGE4_2',\n        speaker: 'Coach K',\n        message: `Evaluation complete â€” Confidence ${evaluation.confidence}%, Fit ${evaluation.fit}%, ${confidenceBandLabel}. Recommended Scholarship: $${evaluation.scholarshipSuggestion.toLocaleString()} Â· Projected NIL: $${evaluation.nilValueSuggestion.toLocaleString()}.`,\n        type: 'success'\n      });\n\n      // Stage 5: Decision prompt\n      setTimeout(() => {\n        addCoachKMessage({\n          id: 'PIQ_STAGE5_1',\n          speaker: 'Coach K',\n          message: 'Add to Recruiting IQâ„¢ or Team IQâ„¢?',\n          type: 'prompt'\n        });\n      }, 1000);\n    }, 2000);\n  };\n\n  const handleSyncToTeamIQ = () => {\n    if (evaluationResult && evaluationResult.confidence >= 60) {\n      const playerProfile = {\n        id: Date.now().toString(),\n        name: evaluationResult.name,\n        team: evaluationResult.school,\n        position: evaluationResult.position,\n        confidence: evaluationResult.confidence,\n        final_kpi: evaluationResult.finalKPI,\n        fit: evaluationResult.fit,\n        scholarship_suggestion: evaluationResult.scholarshipSuggestion,\n        nil_value_suggestion: evaluationResult.nilValueSuggestion,\n        bias_profile_id: coachProfile?.email || 'default',\n        synced_to: ['Team IQ'],\n        status: 'Synced',\n        roster_source: 'coach',\n        timestamp: evaluationResult.timestamp\n      };\n\n      console.log('[LOGIC HOOK: Sync] Syncing player to Team IQ:', playerProfile);\n      addPlayerProfile(playerProfile);\n      addToRoster(playerProfile);\n      \n      // Stage 5: Sync confirmation\n      const newCount = verifiedPlayersCount + 1;\n      setPlayerIQStage('progress');\n      \n      // Show confirmation toast\n      const toast = document.createElement('div');\n      toast.className = 'sync-toast';\n      toast.textContent = 'âœ… Player Synced';\n      document.body.appendChild(toast);\n      setTimeout(() => {\n        toast.classList.add('show');\n        setTimeout(() => {\n          toast.classList.remove('show');\n          setTimeout(() => document.body.removeChild(toast), 300);\n        }, 2000);\n      }, 100);\n\n      // Stage 6: Roster Progress\n      setTimeout(() => {\n        if (newCount < 10) {\n          addCoachKMessage({\n            id: 'PIQ_STAGE6_1',\n            speaker: 'Coach K',\n            message: `Player synced. You now have ${newCount} verified player${newCount !== 1 ? 's' : ''} â€” Team IQâ„¢ preview available.`,\n            type: 'success'\n          });\n          if (newCount >= 4 && newCount < 10) {\n            addCoachKMessage({\n              id: 'PIQ_STAGE6_2',\n              speaker: 'Coach K',\n              message: 'Mixing verified and benchmark players. Team IQâ„¢ unlocks after 10 verified players.',\n              type: 'info'\n            });\n          }\n        } else {\n          addCoachKMessage({\n            id: 'PIQ_STAGE6_3',\n            speaker: 'Coach K',\n            message: 'Roster complete â€” Team IQâ„¢ now fully live!',\n            type: 'success'\n          });\n          setPlayerIQStage('transition');\n        }\n      }, 500);\n      \n      handleReset();\n    }\n  };\n\n  const handleSyncToRecruitingIQ = () => {\n    if (evaluationResult && evaluationResult.confidence >= 60) {\n      const playerProfile = {\n        id: Date.now().toString(),\n        name: evaluationResult.name,\n        team: evaluationResult.school,\n        position: evaluationResult.position,\n        confidence: evaluationResult.confidence,\n        final_kpi: evaluationResult.finalKPI,\n        fit: evaluationResult.fit,\n        scholarship_suggestion: evaluationResult.scholarshipSuggestion,\n        nil_value_suggestion: evaluationResult.nilValueSuggestion,\n        bias_profile_id: coachProfile?.email || 'default',\n        synced_to: ['Recruiting IQ'],\n        status: 'Synced',\n        roster_source: 'coach',\n        timestamp: evaluationResult.timestamp\n      };\n\n      console.log('[LOGIC HOOK: Sync] Syncing player to Recruiting IQ:', playerProfile);\n      \n      // Stage 5: Sync confirmation\n      const newCount = verifiedPlayersCount + 1;\n      setPlayerIQStage('progress');\n      \n      // Show confirmation toast\n      const toast = document.createElement('div');\n      toast.className = 'sync-toast';\n      toast.textContent = 'âœ… Player Synced';\n      document.body.appendChild(toast);\n      setTimeout(() => {\n        toast.classList.add('show');\n        setTimeout(() => {\n          toast.classList.remove('show');\n          setTimeout(() => document.body.removeChild(toast), 300);\n        }, 2000);\n      }, 100);\n\n      // Stage 6: Roster Progress\n      setTimeout(() => {\n        if (newCount < 10) {\n          addCoachKMessage({\n            id: 'PIQ_STAGE6_1',\n            speaker: 'Coach K',\n            message: `Player synced. You now have ${newCount} verified player${newCount !== 1 ? 's' : ''} â€” Team IQâ„¢ preview available.`,\n            type: 'success'\n          });\n        } else {\n          addCoachKMessage({\n            id: 'PIQ_STAGE6_3',\n            speaker: 'Coach K',\n            message: 'Roster complete â€” Team IQâ„¢ now fully live!',\n            type: 'success'\n          });\n          setPlayerIQStage('transition');\n        }\n      }, 500);\n      \n      handleReset();\n    }\n  };\n\n  const getConfidenceBandLabel = (confidence) => {\n    if (confidence >= 90) return 'Full Trust';\n    if (confidence >= 80) return 'Trusted';\n    if (confidence >= 70) return 'Limited';\n    if (confidence >= 60) return 'Low Confidence';\n    return 'Insufficient Sample';\n  };\n\n  const getConfidenceBandColor = (confidence) => {\n    if (confidence >= 90) return '#D4AF37';\n    if (confidence >= 80) return '#D4AF37';\n    if (confidence >= 70) return 'rgba(255, 255, 255, 0.7)';\n    if (confidence >= 60) return '#FF4D4D';\n    return '#FF4D4D';\n  };\n\n  const handleReset = () => {\n    setSearchMode(true);\n    setScopeResult(null);\n    setEvaluationResult(null);\n    setShowAdvancedFilters(false);\n    setCoachNotes('');\n    setAttachments([]);\n    setSearchData({ \n      playerName: '', \n      school: '', \n      classYear: '', \n      position: '',\n      hintTags: [],\n      sources: {\n        official: true,\n        recruiting: true,\n        media: true,\n        social: true\n      },\n      regionBias: ''\n    });\n  };\n\n  // Stock roster for demo mode\n  const stockRoster = [\n    { id: 'stock_1', name: 'Stock PG', position: 'PG', roster_source: 'demo', confidence: 85, final_kpi: 75 },\n    { id: 'stock_2', name: 'Stock SG', position: 'SG', roster_source: 'demo', confidence: 82, final_kpi: 73 },\n    { id: 'stock_3', name: 'Stock SF', position: 'SF', roster_source: 'demo', confidence: 80, final_kpi: 71 },\n    { id: 'stock_4', name: 'Stock PF', position: 'PF', roster_source: 'demo', confidence: 78, final_kpi: 69 },\n    { id: 'stock_5', name: 'Stock C', position: 'C', roster_source: 'demo', confidence: 76, final_kpi: 67 },\n    { id: 'stock_6', name: 'Stock PG2', position: 'PG', roster_source: 'demo', confidence: 74, final_kpi: 65 },\n    { id: 'stock_7', name: 'Stock SG2', position: 'SG', roster_source: 'demo', confidence: 72, final_kpi: 63 },\n    { id: 'stock_8', name: 'Stock SF2', position: 'SF', roster_source: 'demo', confidence: 70, final_kpi: 61 },\n    { id: 'stock_9', name: 'Stock PF2', position: 'PF', roster_source: 'demo', confidence: 68, final_kpi: 59 },\n    { id: 'stock_10', name: 'Stock C2', position: 'C', roster_source: 'demo', confidence: 66, final_kpi: 57 },\n    { id: 'stock_11', name: 'Stock Bench1', position: 'PG', roster_source: 'demo', confidence: 64, final_kpi: 55 },\n    { id: 'stock_12', name: 'Stock Bench2', position: 'SG', roster_source: 'demo', confidence: 62, final_kpi: 53 }\n  ];\n\n  // Calculate verified players count and roster mode\n  useEffect(() => {\n    const verified = playerProfiles.filter(p => p.confidence >= 60 && p.roster_source !== 'demo');\n    const count = verified.length;\n    setVerifiedPlayersCount(count);\n\n    if (count === 0) {\n      setRosterMode('demo');\n    } else if (count < 10) {\n      setRosterMode('hybrid');\n    } else {\n      setRosterMode('live');\n    }\n  }, [playerProfiles]);\n\n  // Track when Coach K is manually closed\n  useEffect(() => {\n    // If Coach K was open and is now closed, user manually closed it\n    if (prevCoachKOpenRef.current === true && coachKState.isOpen === false && !coachKState.isMinimized) {\n      setHasManuallyClosedCoachK(true);\n      localStorage.setItem('playerIQ_coachK_closed', 'true');\n    }\n    prevCoachKOpenRef.current = coachKState.isOpen;\n  }, [coachKState.isOpen, coachKState.isMinimized]);\n\n  // Stage 1: Entry - Validate coaching_bias\n  useEffect(() => {\n    if (!isAuthenticated() || !coachProfile) {\n      navigate('/login');\n      return;\n    }\n\n    // Fade-in animation on mount (150ms as per spec)\n    setTimeout(() => setFadeIn(true), 100);\n\n    // Only auto-open on initial mount, not on every dependency change\n    if (isInitialMountRef.current) {\n      isInitialMountRef.current = false;\n\n      // Auto-open Coach K on PlayerIQ page ONLY if user hasn't manually closed it\n      if (!hasManuallyClosedCoachK) {\n        setTimeout(() => {\n          setCoachKState(prev => ({\n            ...prev,\n            isOpen: true,\n            isMinimized: false\n          }));\n        }, 500);\n      }\n\n      // Stage 1: Entry validation\n      if (!coachingBias) {\n        setPlayerIQStage('entry');\n        // Only auto-open drawer if user hasn't manually closed it\n        if (!hasManuallyClosedDrawer) {\n          setTimeout(() => {\n            addCoachKMessage({\n              id: 'PIQ_STAGE1_1',\n              speaker: 'Coach K',\n              message: 'Set Coaching IQ to continue. Opening Coaching IQ drawer...',\n              type: 'warning'\n            });\n            setTimeout(() => {\n              setShowDrawer(true);\n              const event = new CustomEvent('openCoachingIQDrawer');\n              window.dispatchEvent(event);\n            }, 500);\n          }, 600);\n        }\n      } else {\n        // Check if first-time user\n        const hasPlayers = playerProfiles.filter(p => p.roster_source !== 'demo').length > 0;\n        if (!hasPlayers && !hasManuallyClosedCoachK) {\n          setPlayerIQStage('intro');\n          setTimeout(() => {\n            addCoachKMessage({\n              id: 'PIQ_STAGE1_2',\n              speaker: 'Coach K',\n              message: 'Start by evaluating your first player. Use the search form above to begin.',\n              type: 'info'\n            });\n          }, 600);\n        } else {\n          setPlayerIQStage('ready');\n        }\n      }\n    }\n\n    // Listen for Coaching IQ drawer open event\n    const handleOpenDrawer = () => {\n      setShowDrawer(true);\n    };\n\n    window.addEventListener('openCoachingIQDrawer', handleOpenDrawer);\n\n    return () => {\n      window.removeEventListener('openCoachingIQDrawer', handleOpenDrawer);\n    };\n  }, [coachProfile, navigate, setCoachKState, hasManuallyClosedCoachK, hasManuallyClosedDrawer]);\n\n  // Monitor coachingBias changes (only for stage transitions, not auto-opening)\n  useEffect(() => {\n    if (coachingBias && playerIQStage === 'entry') {\n      setPlayerIQStage('intro');\n      if (!hasManuallyClosedCoachK) {\n        addCoachKMessage({\n          id: 'PIQ_STAGE1_3',\n          speaker: 'Coach K',\n          message: 'Great! Your Coaching IQ is set. Now let\\'s evaluate your first player.',\n          type: 'success'\n        });\n      }\n    }\n  }, [coachingBias, playerIQStage, addCoachKMessage, hasManuallyClosedCoachK]);\n\n  const isActiveRoute = (path) => {\n    // Only highlight if we're actually on that route\n    return location.pathname === path || location.pathname.startsWith(path + '/');\n  };\n\n  const handleOpenCoachingIQ = () => {\n    if (!coachingBias) {\n      const event = new CustomEvent('openCoachingIQDrawer');\n      window.dispatchEvent(event);\n      setShowDrawer(true);\n    } else {\n      setShowDrawer(true);\n    }\n  };\n\n  if (!isAuthenticated() || !coachProfile) {\n    return null;\n  }\n\n  return (\n    <div className={`player-iq-page ${fadeIn ? 'fade-in' : ''}`}>\n      {/* Header */}\n      <header className=\"player-iq-header\">\n        <div className=\"header-left\">\n          <h1 className=\"header-title\">PLAYER IQâ„¢ EVALUATOR</h1>\n          <p className=\"subtitle\">Run Lifeline Scope and Full Evaluation on any player.</p>\n          <div className=\"context-line\">\n            <span>Team: {coachProfile?.team || 'Not Set'}</span>\n            <span className=\"context-divider\">Â·</span>\n            <span>Offense: {coachingBias?.offensiveSystem || coachProfile?.offense || 'Not Set'}</span>\n            <span className=\"context-divider\">Â·</span>\n            <span>Defense: {coachingBias?.defensiveSystem || coachProfile?.defense || 'Not Set'}</span>\n            <span className=\"context-divider\">Â·</span>\n            <span>Division: {coachProfile?.division || 'Not Set'}</span>\n          </div>\n          <div \n            className={`coaching-iq-chip ${coachingBias ? 'active' : 'incomplete'}`}\n            onClick={handleOpenCoachingIQ}\n            title={coachingBias ? \"Coaching IQ Active\" : \"Set Up Required - Click to configure\"}\n          >\n            <span className=\"chip-icon\">ðŸ§ </span>\n            <span className=\"chip-text\">{coachingBias ? 'Coaching IQ Active' : 'Set Up Required'}</span>\n          </div>\n        </div>\n        <div className=\"header-right\">\n          <button \n            className={`nav-btn ${isActiveRoute('/team-iq') ? 'active' : ''}`} \n            onClick={() => navigate('/team-iq')}\n            title=\"Team IQâ„¢\"\n          >\n            <Icon name=\"team\" size={16} />\n            <span>Team IQâ„¢</span>\n          </button>\n          <button \n            className={`nav-btn ${isActiveRoute('/recruiting-iq') ? 'active' : ''}`} \n            onClick={() => navigate('/recruiting-iq')}\n            title=\"Recruiting IQâ„¢\"\n          >\n            <Icon name=\"clipboard\" size={16} />\n            <span>Recruiting IQâ„¢</span>\n          </button>\n          <button \n            className={`nav-btn ${isActiveRoute('/office') ? 'active' : ''}`} \n            onClick={() => navigate('/office')}\n            title=\"Return to Office\"\n          >\n            <Icon name=\"home\" size={16} />\n            <span>Return to Office</span>\n          </button>\n        </div>\n      </header>\n\n      {/* Roster Progress Indicator */}\n      <div className=\"roster-progress-bar\">\n        <div className=\"progress-header\">\n          <span className=\"progress-label\">ðŸ“Š Verified Players: {verifiedPlayersCount}/10</span>\n          <span className=\"roster-mode-badge\">{rosterMode === 'demo' ? 'Demo Mode' : rosterMode === 'hybrid' ? 'Hybrid Mode' : 'Live Mode'}</span>\n        </div>\n        <div className=\"progress-bar-container\">\n          <div \n            className=\"progress-bar-fill\" \n            style={{ width: `${Math.min((verifiedPlayersCount / 10) * 100, 100)}%` }}\n          ></div>\n        </div>\n        {verifiedPlayersCount < 10 && (\n          <p className=\"progress-note\">\n            {verifiedPlayersCount === 0\n              ? 'Demo mode active â€” evaluate players to personalize results.'\n              : verifiedPlayersCount < 4 \n                ? 'Demo mode active â€” evaluate players to personalize results.'\n                : 'Mixing verified and benchmark players. Team IQâ„¢ unlocks after 10 verified players.'}\n          </p>\n        )}\n        {verifiedPlayersCount >= 10 && (\n          <p className=\"progress-note success\">\n            Roster complete â€” Team IQâ„¢ now fully live!\n          </p>\n        )}\n      </div>\n\n      {/* Main Content */}\n      <div className=\"player-iq-content\">\n        {/* Search Card */}\n        {searchMode && !scopeResult && (\n          <div className={`search-card ${loading ? 'fade-out' : ''}`}>\n            <h2>Lifeline Scope</h2>\n            <form onSubmit={handleRunScope}>\n              <div className=\"form-group\">\n                <label>Player Name *</label>\n                <input\n                  type=\"text\"\n                  placeholder=\"Minimum 3 characters\"\n                  value={searchData.playerName}\n                  onChange={(e) => setSearchData({ ...searchData, playerName: e.target.value })}\n                  minLength={3}\n                  required\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Program / School (optional)</label>\n                <input\n                  type=\"text\"\n                  placeholder=\"Improves accuracy of scrape\"\n                  value={searchData.school}\n                  onChange={(e) => setSearchData({ ...searchData, school: e.target.value })}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Class / Year (optional)</label>\n                <select\n                  value={searchData.classYear}\n                  onChange={(e) => setSearchData({ ...searchData, classYear: e.target.value })}\n                >\n                  <option value=\"\">Select Class</option>\n                  <option value=\"HS FR\">HS Freshman</option>\n                  <option value=\"HS SO\">HS Sophomore</option>\n                  <option value=\"HS JR\">HS Junior</option>\n                  <option value=\"HS SR\">HS Senior</option>\n                  <option value=\"Prep\">Prep</option>\n                  <option value=\"FR\">College Freshman</option>\n                  <option value=\"SO\">College Sophomore</option>\n                  <option value=\"JR\">College Junior</option>\n                  <option value=\"SR\">College Senior</option>\n                  <option value=\"Pro\">Pro</option>\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Hint Tags (optional)</label>\n                <div className=\"hint-tags-input\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Position, city, state, team nickname\"\n                    onKeyPress={(e) => {\n                      if (e.key === 'Enter' && e.target.value.trim()) {\n                        e.preventDefault();\n                        handleAddHintTag(e.target.value.trim());\n                        e.target.value = '';\n                      }\n                    }}\n                  />\n                  <div className=\"hint-tags-list\">\n                    {searchData.hintTags.map((tag, idx) => (\n                      <span key={idx} className=\"hint-tag\">\n                        {tag}\n                        <button type=\"button\" onClick={() => handleRemoveHintTag(tag)}>Ã—</button>\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              </div>\n\n              {showAdvancedFilters && (\n                <div className=\"advanced-filters\">\n                  <div className=\"form-group\">\n                    <label>Source Controls</label>\n                    <div className=\"source-toggles\">\n                      <label className=\"toggle-label\">\n                        <input\n                          type=\"checkbox\"\n                          checked={searchData.sources.official}\n                          onChange={() => handleToggleSource('official')}\n                        />\n                        <span>Official Sites</span>\n                      </label>\n                      <label className=\"toggle-label\">\n                        <input\n                          type=\"checkbox\"\n                          checked={searchData.sources.recruiting}\n                          onChange={() => handleToggleSource('recruiting')}\n                        />\n                        <span>Recruiting Services</span>\n                      </label>\n                      <label className=\"toggle-label\">\n                        <input\n                          type=\"checkbox\"\n                          checked={searchData.sources.media}\n                          onChange={() => handleToggleSource('media')}\n                        />\n                        <span>Media</span>\n                      </label>\n                      <label className=\"toggle-label\">\n                        <input\n                          type=\"checkbox\"\n                          checked={searchData.sources.social}\n                          onChange={() => handleToggleSource('social')}\n                        />\n                        <span>Social / Video</span>\n                      </label>\n                    </div>\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label>Region Bias (optional)</label>\n                    <select\n                      value={searchData.regionBias}\n                      onChange={(e) => setSearchData({ ...searchData, regionBias: e.target.value })}\n                    >\n                      <option value=\"\">Select Region</option>\n                      <option value=\"US\">United States</option>\n                      <option value=\"CA\">Canada</option>\n                      <option value=\"International\">International</option>\n                    </select>\n                  </div>\n                </div>\n              )}\n\n              <div className=\"form-actions\">\n                <button type=\"submit\" className=\"primary-btn\" disabled={loading || searchData.playerName.length < 3}>\n                  {loading ? 'Running Scope...' : 'Run Lifeline Scope'}\n                </button>\n                <button \n                  type=\"button\" \n                  className=\"secondary-btn\"\n                  onClick={() => setShowAdvancedFilters(!showAdvancedFilters)}\n                >\n                  {showAdvancedFilters ? 'Hide' : 'Advanced Filters'}\n                </button>\n                <button \n                  type=\"button\" \n                  className=\"secondary-btn\"\n                  onClick={handleReset}\n                >\n                  Clear\n                </button>\n              </div>\n            </form>\n          </div>\n        )}\n\n        {/* Scope Results */}\n        {scopeResult && !evaluationResult && (\n          <div className=\"scope-results slide-up\">\n            <h2>Lifeline Scope Results</h2>\n            <div className=\"scope-results-panel\">\n              {/* Left Column - Summary */}\n              <div className=\"scope-summary\">\n                <div className=\"confidence-section\">\n                  <label>Confidence %</label>\n                  <div className=\"confidence-value\">{scopeResult.confidence}%</div>\n                  <div className={`progress-bar ${scopeResult.confidence < 70 ? 'low' : ''}`}>\n                    <div \n                      className=\"progress-fill\" \n                      style={{ width: `${scopeResult.confidence}%` }}\n                    ></div>\n                  </div>\n                  <p className=\"confidence-note\">Derived from cross-source agreement + sample size</p>\n                </div>\n\n                <div className=\"metric-section\">\n                  <div className=\"metric-item\">\n                    <label>Auto-Detected Position</label>\n                    <div className=\"metric-value\">{scopeResult.autoDetectedPosition || scopeResult.position}</div>\n                    <p className=\"metric-note\">System-weighted role (bias-adjusted)</p>\n                  </div>\n\n                  <div className=\"metric-item\">\n                    <label>Eligibility Status</label>\n                    <div className={`metric-value eligibility-${scopeResult.eligibility.toLowerCase()}`}>\n                      {scopeResult.eligibility}\n                    </div>\n                  </div>\n\n                  <div className=\"metric-item\">\n                    <label>NIL Readiness Band</label>\n                    <div className={`metric-value nil-${scopeResult.nilReadiness.toLowerCase()}`}>\n                      {scopeResult.nilReadiness}\n                    </div>\n                  </div>\n\n                  <div className=\"metric-item\">\n                    <label>Red Flags Summary</label>\n                    <div className=\"metric-value\">{scopeResult.redFlagsSummary || 'None'}</div>\n                  </div>\n\n                  <div className=\"metric-item\">\n                    <label>Level Context</label>\n                    <div className=\"metric-value\">{scopeResult.levelContext}</div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Right Column - Identity & Details */}\n              <div className=\"scope-details\">\n                <div className=\"identity-card\">\n                  <div className=\"player-avatar-large\">\n                    {scopeResult.image ? (\n                      <img src={scopeResult.image} alt={scopeResult.name} />\n                    ) : (\n                      <span>{scopeResult.name.charAt(0)}</span>\n                    )}\n                  </div>\n                  <div className=\"player-info\">\n                    <h3>{scopeResult.name}</h3>\n                    <p>{scopeResult.school || 'Program Not Specified'}</p>\n                    <p>{scopeResult.classYear || 'Class Not Specified'}</p>\n                  </div>\n                </div>\n\n                <div className=\"source-preview\">\n                  <label>Source Preview</label>\n                  <div className=\"source-agreement\">{scopeResult.sourceAgreement || 'âœ“âœ“âœ“'}</div>\n                  <div className=\"sources-list\">\n                    {scopeResult.sources?.map((source, idx) => (\n                      <div key={idx} className=\"source-item\">\n                        <span className=\"source-name\">{source.name}</span>\n                        <span className=\"source-check\">{source.agreement ? 'âœ“' : 'â—‹'}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"coach-notes-section\">\n                  <label>Coach Notes (optional)</label>\n                  <textarea\n                    value={coachNotes}\n                    onChange={(e) => setCoachNotes(e.target.value)}\n                    placeholder=\"Store notes to player_profile.notes\"\n                    rows={3}\n                  />\n                </div>\n\n                <div className=\"attachments-section\">\n                  <label>Attachments (optional)</label>\n                  <input\n                    type=\"file\"\n                    multiple\n                    accept=\"image/*,application/pdf\"\n                    onChange={(e) => {\n                      const files = Array.from(e.target.files);\n                      setAttachments([...attachments, ...files]);\n                    }}\n                  />\n                  {attachments.length > 0 && (\n                    <div className=\"attachments-list\">\n                      {attachments.map((file, idx) => (\n                        <div key={idx} className=\"attachment-item\">\n                          <span>{file.name}</span>\n                          <button type=\"button\" onClick={() => setAttachments(attachments.filter((_, i) => i !== idx))}>\n                            Ã—\n                          </button>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"scope-actions\">\n              <button className=\"secondary-btn\" onClick={handleEditDisambiguation}>\n                Edit Disambiguation\n              </button>\n              <button className=\"secondary-btn\" onClick={handleSaveScopeOnly}>\n                Save Scope Only\n              </button>\n              <button className=\"primary-btn\" onClick={handleRunEvaluation} disabled={loading}>\n                {loading ? 'Evaluating...' : 'Run Full Evaluation'}\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Evaluation Results - Section 3 */}\n        {evaluationResult && (\n          <div className=\"evaluation-results fade-in\">\n            {/* Fixed Header Row */}\n            <div className=\"evaluation-header-row\">\n              <span className=\"header-player-name\">{evaluationResult.name}</span>\n              <span className=\"header-divider\">Â·</span>\n              <span className=\"header-program\">{evaluationResult.school || 'Program Not Specified'}</span>\n              <span className=\"header-divider\">Â·</span>\n              <span className=\"header-confidence\">Confidence: {evaluationResult.confidence}%</span>\n            </div>\n\n            {/* Module 1: Confidence Gate Summary */}\n            <div className=\"confidence-gate-module\">\n              <h2>Confidence Gate Summary</h2>\n              <div className=\"confidence-gate-card\">\n                <div className=\"confidence-gate-main\">\n                  <div className=\"confidence-display\">\n                    <label>Confidence %</label>\n                    <div className=\"confidence-value-large\" style={{ color: getConfidenceBandColor(evaluationResult.confidence) }}>\n                      {evaluationResult.confidence}%\n                    </div>\n                    <div className={`confidence-band ${evaluationResult.confidenceTier.toLowerCase()}`}>\n                      {evaluationResult.confidenceLabel}\n                    </div>\n                    <div className={`progress-bar ${evaluationResult.confidence < 70 ? 'low' : ''}`}>\n                      <div \n                        className=\"progress-fill\" \n                        style={{ \n                          width: `${evaluationResult.confidence}%`,\n                          backgroundColor: getConfidenceBandColor(evaluationResult.confidence)\n                        }}\n                      ></div>\n                    </div>\n                  </div>\n\n                  <div className=\"confidence-details\">\n                    <div className=\"detail-item\">\n                      <label>Data Recency</label>\n                      <div className=\"detail-value\">{evaluationResult.dataRecency}</div>\n                    </div>\n                    <div className=\"detail-item\">\n                      <label>Threshold Band</label>\n                      <div className=\"detail-value\">{getConfidenceBandLabel(evaluationResult.confidence)}</div>\n                    </div>\n                  </div>\n                </div>\n\n                {evaluationResult.confidence < 60 && (\n                  <div className=\"flag-notice insufficient\">\n                    <span className=\"flag-icon\">âš </span>\n                    <span>Insufficient Sample â€” Evaluation Limited.</span>\n                  </div>\n                )}\n                {evaluationResult.confidence >= 60 && evaluationResult.confidence < 70 && (\n                  <div className=\"flag-notice low\">\n                    <span className=\"flag-icon\">âš </span>\n                    <span>Low Confidence â€” KPI outputs restricted.</span>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Module 2: Final KPI Report */}\n            <div className=\"kpi-report-module\">\n              <h2>Final KPI Report</h2>\n              \n              {/* College KPI Report (default view) */}\n              <div className=\"kpi-report-card\">\n                <div className=\"kpi-report-header\">\n                  <h3>College KPI Report</h3>\n                </div>\n\n                <div className=\"kpi-main-display\">\n                  <div className=\"kpi-score-large\">{evaluationResult.finalKPI}</div>\n                  <div className=\"kpi-label-large\">Final KPI</div>\n                  <p className=\"kpi-description\">Weighted composite (traits Ã— bias Ã— confidence)</p>\n                </div>\n\n                <div className=\"kpi-details-grid\">\n                  <div className=\"kpi-detail-item\">\n                    <label>Role Projection</label>\n                    <div className=\"kpi-detail-value\">{evaluationResult.roleProjection}</div>\n                    <p className=\"kpi-detail-note\">Based on division percentile</p>\n                  </div>\n\n                  <div className=\"kpi-detail-item\">\n                    <label>Archetype & Tags</label>\n                    <div className=\"kpi-detail-value\">{evaluationResult.archetype}</div>\n                    <div className=\"archetype-tags\">\n                      {evaluationResult.archetypeTags?.map((tag, i) => (\n                        <span key={i} className=\"archetype-tag\">{tag}</span>\n                      ))}\n                    </div>\n                  </div>\n\n                  <div className=\"kpi-detail-item\">\n                    <label>NIL Readiness</label>\n                    <div className=\"kpi-detail-value\">{evaluationResult.nilReadiness}/10</div>\n                    <p className=\"kpi-detail-note\">Banded score from verified exposure</p>\n                  </div>\n\n                  <div className=\"kpi-detail-item\">\n                    <label>Division Placement</label>\n                    <div className=\"kpi-detail-value\">{evaluationResult.divisionPlacement}</div>\n                  </div>\n\n                  <div className=\"kpi-detail-item\">\n                    <label>Fit %</label>\n                    <div className=\"kpi-detail-value\">{evaluationResult.fit}%</div>\n                    <p className=\"kpi-detail-note\">System alignment strength</p>\n                  </div>\n\n                  <div className=\"kpi-detail-item\">\n                    <label>Badges / Flags</label>\n                    <div className=\"badges-list\">\n                      {evaluationResult.badges?.map((badge, i) => (\n                        <span key={i} className=\"badge\">{badge}</span>\n                      ))}\n                      {evaluationResult.flags?.length === 0 && <span className=\"no-flags\">No flags</span>}\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"financial-recommendations\">\n                  <h4>Financial Recommendations</h4>\n                  <div className=\"financial-grid\">\n                    <div className=\"financial-item\">\n                      <span className=\"financial-icon\">ðŸ’°</span>\n                      <div className=\"financial-content\">\n                        <label>Scholarship Suggestion ($)</label>\n                        <div className=\"financial-amount\">${evaluationResult.scholarshipSuggestion.toLocaleString()}</div>\n                        <p className=\"financial-note\">KPI percentile Ã— Scholarship Cap Ã· Roster Size</p>\n                      </div>\n                    </div>\n                    <div className=\"financial-item\">\n                      <span className=\"financial-icon\">ðŸ’µ</span>\n                      <div className=\"financial-content\">\n                        <label>NIL Value Suggestion ($)</label>\n                        <div className=\"financial-amount\">${evaluationResult.nilValueSuggestion.toLocaleString()}</div>\n                        <p className=\"financial-note\">NIL Readiness Ã— Confidence Ã— (NIL Pool Ã· Roster Size)</p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"kpg-line-section\">\n                  <h4>KPGâ„¢ Line</h4>\n                  <p className=\"kpg-line\">{evaluationResult.kpgLine}</p>\n                  <p className=\"kpg-note\">Pace-adjusted KaNeXT Per Game line, calibrated to division baseline</p>\n                </div>\n\n                {evaluationResult.overridesApplied && (\n                  <div className=\"overrides-section\">\n                    <label>Overrides Applied</label>\n                    <p>Manual KPI adjustments made by coach</p>\n                  </div>\n                )}\n              </div>\n\n              {/* Pro KPI Report (conditional view) */}\n              {evaluationResult.showProKPI && (\n                <div className=\"kpi-report-card pro-kpi\">\n                  <div className=\"kpi-report-header\">\n                    <h3>Pro KPI Report</h3>\n                    <span className=\"pro-badge\">Pro</span>\n                  </div>\n\n                  <div className=\"kpi-main-display\">\n                    <div className=\"kpi-score-large\">{evaluationResult.proKPI}</div>\n                    <div className=\"kpi-label-large\">Final KPI (Pro)</div>\n                    <p className=\"kpi-description\">College KPI + professional-level adjustment curve</p>\n                  </div>\n\n                  <div className=\"kpi-details-grid\">\n                    <div className=\"kpi-detail-item\">\n                      <label>Role Projection</label>\n                      <div className=\"kpi-detail-value\">{evaluationResult.proRoleProjection}</div>\n                    </div>\n\n                    <div className=\"kpi-detail-item\">\n                      <label>Pro Tier Placement</label>\n                      <div className=\"kpi-detail-value\">{evaluationResult.proTierPlacement}</div>\n                      <p className=\"kpi-detail-note\">Market grid tier (T1Aâ€“T4C)</p>\n                    </div>\n\n                    <div className=\"kpi-detail-item\">\n                      <label>Market Value Projection ($)</label>\n                      <div className=\"kpi-detail-value\">${evaluationResult.marketValueProjection?.toLocaleString()}</div>\n                      <p className=\"kpi-detail-note\">Derived from pro comps and international agent data</p>\n                    </div>\n\n                    <div className=\"kpi-detail-item\">\n                      <label>Market Notes</label>\n                      <div className=\"kpi-detail-value\">{evaluationResult.marketNotes}</div>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Module 3: Decision & Sync Panel */}\n            <div className=\"decision-sync-module\">\n              <h2>Decision & Sync</h2>\n              <div className=\"decision-panel-card\">\n                <div className=\"decision-header\">\n                  <h3>Next Step: Decision & Sync</h3>\n                  <p className=\"decision-instructions\">Select where to send this evaluation.</p>\n                </div>\n\n                {evaluationResult.confidence < 60 ? (\n                  <div className=\"status-banner disabled\">\n                    <span className=\"status-icon\">âš </span>\n                    <span>Disabled â€” Confidence below 60%</span>\n                  </div>\n                ) : (\n                  <div className=\"status-banner active\">\n                    <span className=\"status-icon\">âœ…</span>\n                    <span>Ready to Sync</span>\n                  </div>\n                )}\n\n                <div className=\"financial-snapshot\">\n                  <h4>Financial Snapshot</h4>\n                  <div className=\"snapshot-grid\">\n                    <div className=\"snapshot-item\">\n                      <label>Scholarship</label>\n                      <div className=\"snapshot-value\">${evaluationResult.scholarshipSuggestion.toLocaleString()}</div>\n                    </div>\n                    <div className=\"snapshot-item\">\n                      <label>NIL Value</label>\n                      <div className=\"snapshot-value\">${evaluationResult.nilValueSuggestion.toLocaleString()}</div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"decision-actions\">\n                  <button \n                    className=\"secondary-btn\" \n                    onClick={handleReset}\n                  >\n                    New Evaluation\n                  </button>\n                  <button \n                    className={`primary-btn ${evaluationResult.confidence < 60 ? 'disabled' : ''}`}\n                    onClick={handleSyncToRecruitingIQ}\n                    disabled={evaluationResult.confidence < 60}\n                  >\n                    Add to Recruiting IQâ„¢\n                  </button>\n                  <button \n                    className={`primary-btn ${evaluationResult.confidence < 60 ? 'disabled' : ''}`}\n                    onClick={handleSyncToTeamIQ}\n                    disabled={evaluationResult.confidence < 60}\n                  >\n                    Add to Team IQâ„¢\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <CoachingIQDrawer \n        isOpen={showDrawer} \n        onClose={() => {\n          setShowDrawer(false);\n          // Track that user manually closed the drawer\n          setHasManuallyClosedDrawer(true);\n          localStorage.setItem('playerIQ_drawer_closed', 'true');\n        }} \n      />\n\n      {/* Coach Kâ„¢ Assistant */}\n      <CoachKAssistant />\n    </div>\n  );\n};\n\nexport default PlayerIQPage;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}