{"ast":null,"code":"var _jsxFileName = \"/Users/muhammadfizantariq/Downloads/Knext_2/frontend/src/pages/OfficePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useApp } from '../context/AppContext';\nimport { isAuthenticated } from '../services/authService';\nimport OfficeHeader from '../components/OfficeHeader';\nimport CoachingIQDrawer from '../components/CoachingIQDrawer';\nimport ModulePanels from '../components/ModulePanels';\nimport CoachKAssistant from '../components/CoachKAssistant';\nimport './OfficePage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OfficePage = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    coachProfile,\n    coachingBias,\n    setCoachKState\n  } = useApp();\n  const [showDrawer, setShowDrawer] = useState(false);\n  const [fadeIn, setFadeIn] = useState(false);\n  useEffect(() => {\n    // Strict check: must have valid authentication token\n    if (!isAuthenticated() || !coachProfile) {\n      navigate('/login');\n      return;\n    }\n    setTimeout(() => setFadeIn(true), 100);\n\n    // Auto-open Coach K on first visit\n    setTimeout(() => {\n      setCoachKState(prev => ({\n        ...prev,\n        isOpen: true,\n        isMinimized: false,\n        currentStage: prev.currentStage === 'welcome' ? 'stage1' : prev.currentStage\n      }));\n    }, 500);\n\n    // Listen for Coaching IQ drawer open event\n    const handleOpenDrawer = () => {\n      setShowDrawer(true);\n    };\n    window.addEventListener('openCoachingIQDrawer', handleOpenDrawer);\n    return () => {\n      window.removeEventListener('openCoachingIQDrawer', handleOpenDrawer);\n    };\n  }, [coachProfile, coachingBias, navigate, setCoachKState]);\n  if (!coachProfile) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `office-page ${fadeIn ? 'fade-in' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(OfficeHeader, {\n      onOpenDrawer: () => setShowDrawer(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"office-content\",\n      children: [/*#__PURE__*/_jsxDEV(ModulePanels, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"office-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Powered by KaNeXT IQ\\u2122\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"divider\",\n          children: \"\\xB7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"coach-k-status\",\n          children: \"Assistant: Coach K\\u2122 Active\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CoachingIQDrawer, {\n      isOpen: showDrawer,\n      onClose: () => setShowDrawer(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CoachKAssistant, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(OfficePage, \"z8pVYMCJYOmVwm09OKLpmmXj9Lw=\", false, function () {\n  return [useNavigate, useApp];\n});\n_c = OfficePage;\nexport default OfficePage;\nvar _c;\n$RefreshReg$(_c, \"OfficePage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useApp","isAuthenticated","OfficeHeader","CoachingIQDrawer","ModulePanels","CoachKAssistant","jsxDEV","_jsxDEV","OfficePage","_s","navigate","coachProfile","coachingBias","setCoachKState","showDrawer","setShowDrawer","fadeIn","setFadeIn","setTimeout","prev","isOpen","isMinimized","currentStage","handleOpenDrawer","window","addEventListener","removeEventListener","className","children","onOpenDrawer","fileName","_jsxFileName","lineNumber","columnNumber","onClose","_c","$RefreshReg$"],"sources":["/Users/muhammadfizantariq/Downloads/Knext_2/frontend/src/pages/OfficePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useApp } from '../context/AppContext';\nimport { isAuthenticated } from '../services/authService';\nimport OfficeHeader from '../components/OfficeHeader';\nimport CoachingIQDrawer from '../components/CoachingIQDrawer';\nimport ModulePanels from '../components/ModulePanels';\nimport CoachKAssistant from '../components/CoachKAssistant';\nimport './OfficePage.css';\n\nconst OfficePage = () => {\n  const navigate = useNavigate();\n  const { coachProfile, coachingBias, setCoachKState } = useApp();\n  const [showDrawer, setShowDrawer] = useState(false);\n  const [fadeIn, setFadeIn] = useState(false);\n\n  useEffect(() => {\n    // Strict check: must have valid authentication token\n    if (!isAuthenticated() || !coachProfile) {\n      navigate('/login');\n      return;\n    }\n\n    setTimeout(() => setFadeIn(true), 100);\n\n    // Auto-open Coach K on first visit\n    setTimeout(() => {\n      setCoachKState(prev => ({ \n        ...prev, \n        isOpen: true, \n        isMinimized: false,\n        currentStage: prev.currentStage === 'welcome' ? 'stage1' : prev.currentStage\n      }));\n    }, 500);\n\n    // Listen for Coaching IQ drawer open event\n    const handleOpenDrawer = () => {\n      setShowDrawer(true);\n    };\n\n    window.addEventListener('openCoachingIQDrawer', handleOpenDrawer);\n\n    return () => {\n      window.removeEventListener('openCoachingIQDrawer', handleOpenDrawer);\n    };\n  }, [coachProfile, coachingBias, navigate, setCoachKState]);\n\n  if (!coachProfile) {\n    return null;\n  }\n\n  return (\n    <div className={`office-page ${fadeIn ? 'fade-in' : ''}`}>\n      <OfficeHeader onOpenDrawer={() => setShowDrawer(true)} />\n      \n      <div className=\"office-content\">\n        <ModulePanels />\n        \n        <div className=\"office-footer\">\n          <span>Powered by KaNeXT IQ™</span>\n          <span className=\"divider\">·</span>\n          <span className=\"coach-k-status\">Assistant: Coach K™ Active</span>\n        </div>\n      </div>\n\n      <CoachingIQDrawer \n        isOpen={showDrawer} \n        onClose={() => setShowDrawer(false)} \n      />\n\n      <CoachKAssistant />\n    </div>\n  );\n};\n\nexport default OfficePage;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}